<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Gilles Colling" />

<meta name="date" content="2026-01-08" />

<title>Advanced Topics</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Advanced Topics</h1>
<h4 class="author">Gilles Colling</h4>
<h4 class="date">2026-01-08</h4>



<div id="overview" class="section level2">
<h2>Overview</h2>
<p>This vignette covers advanced topics for power users, researchers,
and method developers:</p>
<ol style="list-style-type: decimal">
<li><strong>Understanding the Algorithms</strong> - Exact vs greedy,
complexity analysis</li>
<li><strong>Custom Engines</strong> - Integrate any modeling package
(INLA, mgcv, brms)</li>
<li><strong>Exact Subset Enumeration</strong> - Multiple maximal
subsets</li>
<li><strong>Performance Optimization</strong> - Speed and memory
considerations</li>
<li><strong>Troubleshooting</strong> - Common issues and solutions</li>
</ol>
<p><strong>Target audience</strong>: Users comfortable with R
programming and statistical methods</p>
<p><strong>Estimated time</strong>: 15-20 minutes</p>
<hr />
</div>
<div id="understanding-the-algorithms" class="section level1">
<h1>1. Understanding the Algorithms</h1>
<div id="exact-vs-greedy-when-to-use-each" class="section level2">
<h2>1.1 Exact vs Greedy: When to Use Each</h2>
<p>corrselect offers two algorithmic approaches for
<code>corrPrune()</code>:</p>
<div id="exact-mode-graph-theoretic" class="section level3">
<h3>Exact Mode (Graph-Theoretic)</h3>
<p><strong>Algorithm</strong>: Eppstein–Löffler–Strash (ELS) or
Bron–Kerbosch <strong>Complexity</strong>: O(2^p) - exponential in
number of predictors <strong>Guarantee</strong>: Finds the
<strong>largest</strong> maximal independent set</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="co"># Exact mode: guaranteed optimal</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>exact_result <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(mtcars, <span class="at">threshold =</span> <span class="fl">0.7</span>, <span class="at">mode =</span> <span class="st">&quot;exact&quot;</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Exact mode kept:&quot;</span>, <span class="fu">ncol</span>(exact_result), <span class="st">&quot;variables</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="co">#&gt; Exact mode kept: 5 variables</span></span></code></pre></div>
<p><strong>Use exact mode when</strong>:</p>
<ul>
<li>p ≤ 20 (feasible runtime)</li>
<li>You need guaranteed optimal solution</li>
<li>Reproducibility is critical</li>
<li>You’re writing a paper (justify optimality)</li>
</ul>
</div>
<div id="greedy-mode-heuristic" class="section level3">
<h3>Greedy Mode (Heuristic)</h3>
<p><strong>Algorithm</strong>: Deterministic iterative removal
<strong>Complexity</strong>: O(p² × k) where k = iterations
<strong>Guarantee</strong>: Near-optimal, deterministic</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Greedy mode: fast approximation</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>greedy_result <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(mtcars, <span class="at">threshold =</span> <span class="fl">0.7</span>, <span class="at">mode =</span> <span class="st">&quot;greedy&quot;</span>)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Greedy mode kept:&quot;</span>, <span class="fu">ncol</span>(greedy_result), <span class="st">&quot;variables</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co">#&gt; Greedy mode kept: 5 variables</span></span></code></pre></div>
<p><strong>Use greedy mode when</strong>:</p>
<ul>
<li>p &gt; 20 (exact becomes slow)</li>
<li>Speed is priority</li>
<li>Near-optimal is acceptable</li>
<li>High-dimensional data (p &gt; 100)</li>
</ul>
</div>
<div id="auto-mode-recommended" class="section level3">
<h3>Auto Mode (Recommended)</h3>
<p>Automatically selects based on p:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Auto mode: smart switching (exact if p ≤ 20, greedy otherwise)</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>auto_result <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(mtcars, <span class="at">threshold =</span> <span class="fl">0.7</span>, <span class="at">mode =</span> <span class="st">&quot;auto&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Auto mode kept:&quot;</span>, <span class="fu">ncol</span>(auto_result), <span class="st">&quot;variables</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co">#&gt; Auto mode kept: 5 variables</span></span></code></pre></div>
</div>
</div>
<div id="complexity-analysis-with-benchmarks" class="section level2">
<h2>1.2 Complexity Analysis with Benchmarks</h2>
<p>Let’s measure runtime scaling:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Generate datasets with increasing p</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>benchmark_corrPrune <span class="ot">&lt;-</span> <span class="cf">function</span>(p_values) {</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>    <span class="at">p =</span> <span class="fu">integer</span>(),</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>    <span class="at">exact_time_ms =</span> <span class="fu">numeric</span>(),</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>    <span class="at">greedy_time_ms =</span> <span class="fu">numeric</span>()</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>  )</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>  <span class="cf">for</span> (p <span class="cf">in</span> p_values) {</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>    <span class="co"># Generate correlated data</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>    <span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>    cor_mat <span class="ot">&lt;-</span> <span class="fl">0.5</span><span class="sc">^</span><span class="fu">abs</span>(<span class="fu">outer</span>(<span class="dv">1</span><span class="sc">:</span>p, <span class="dv">1</span><span class="sc">:</span>p, <span class="st">&quot;-&quot;</span>))</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>    data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(MASS<span class="sc">::</span><span class="fu">mvrnorm</span>(<span class="at">n =</span> <span class="dv">100</span>, <span class="at">mu =</span> <span class="fu">rep</span>(<span class="dv">0</span>, p), <span class="at">Sigma =</span> cor_mat))</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>    <span class="co"># Exact mode (skip if p too large)</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>    exact_time_ms <span class="ot">&lt;-</span> <span class="cf">if</span> (p <span class="sc">&lt;=</span> <span class="dv">500</span>) {</span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a>      <span class="fu">median</span>(<span class="fu">microbenchmark</span>(</span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a>        <span class="fu">corrPrune</span>(data, <span class="at">threshold =</span> <span class="fl">0.7</span>, <span class="at">mode =</span> <span class="st">&quot;exact&quot;</span>),</span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a>        <span class="at">times =</span> <span class="dv">3</span>,  <span class="co"># Few iterations for speed</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a>        <span class="at">unit =</span> <span class="st">&quot;ms&quot;</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a>      )<span class="sc">$</span>time) <span class="sc">/</span> <span class="fl">1e6</span>  <span class="co"># Convert nanoseconds to milliseconds</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a>      <span class="cn">NA</span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a>    }</span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a>    <span class="co"># Greedy mode</span></span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a>    greedy_time_ms <span class="ot">&lt;-</span> <span class="fu">median</span>(<span class="fu">microbenchmark</span>(</span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a>      <span class="fu">corrPrune</span>(data, <span class="at">threshold =</span> <span class="fl">0.7</span>, <span class="at">mode =</span> <span class="st">&quot;greedy&quot;</span>),</span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a>      <span class="at">times =</span> <span class="dv">3</span>,  <span class="co"># Few iterations for speed</span></span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a>      <span class="at">unit =</span> <span class="st">&quot;ms&quot;</span></span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a>    )<span class="sc">$</span>time) <span class="sc">/</span> <span class="fl">1e6</span>  <span class="co"># Convert nanoseconds to milliseconds</span></span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a></span>
<span id="cb4-35"><a href="#cb4-35" tabindex="-1"></a>    results <span class="ot">&lt;-</span> <span class="fu">rbind</span>(results, <span class="fu">data.frame</span>(</span>
<span id="cb4-36"><a href="#cb4-36" tabindex="-1"></a>      <span class="at">p =</span> p,</span>
<span id="cb4-37"><a href="#cb4-37" tabindex="-1"></a>      <span class="at">exact_time_ms =</span> <span class="fu">round</span>(exact_time_ms, <span class="dv">1</span>),</span>
<span id="cb4-38"><a href="#cb4-38" tabindex="-1"></a>      <span class="at">greedy_time_ms =</span> <span class="fu">round</span>(greedy_time_ms, <span class="dv">1</span>)</span>
<span id="cb4-39"><a href="#cb4-39" tabindex="-1"></a>    ))</span>
<span id="cb4-40"><a href="#cb4-40" tabindex="-1"></a>  }</span>
<span id="cb4-41"><a href="#cb4-41" tabindex="-1"></a></span>
<span id="cb4-42"><a href="#cb4-42" tabindex="-1"></a>  results</span>
<span id="cb4-43"><a href="#cb4-43" tabindex="-1"></a>}</span>
<span id="cb4-44"><a href="#cb4-44" tabindex="-1"></a></span>
<span id="cb4-45"><a href="#cb4-45" tabindex="-1"></a><span class="co"># Benchmark (extended range to show comprehensive scaling behavior)</span></span>
<span id="cb4-46"><a href="#cb4-46" tabindex="-1"></a>p_values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">500</span>, <span class="dv">1000</span>)</span>
<span id="cb4-47"><a href="#cb4-47" tabindex="-1"></a>benchmark <span class="ot">&lt;-</span> <span class="fu">benchmark_corrPrune</span>(p_values)</span>
<span id="cb4-48"><a href="#cb4-48" tabindex="-1"></a><span class="fu">print</span>(benchmark)</span>
<span id="cb4-49"><a href="#cb4-49" tabindex="-1"></a><span class="co">#&gt;      p exact_time_ms greedy_time_ms</span></span>
<span id="cb4-50"><a href="#cb4-50" tabindex="-1"></a><span class="co">#&gt; 1   10           0.4            0.2</span></span>
<span id="cb4-51"><a href="#cb4-51" tabindex="-1"></a><span class="co">#&gt; 2   20           0.5            0.3</span></span>
<span id="cb4-52"><a href="#cb4-52" tabindex="-1"></a><span class="co">#&gt; 3   50           1.0            0.7</span></span>
<span id="cb4-53"><a href="#cb4-53" tabindex="-1"></a><span class="co">#&gt; 4  100           1.8            1.5</span></span>
<span id="cb4-54"><a href="#cb4-54" tabindex="-1"></a><span class="co">#&gt; 5  200           4.8            3.0</span></span>
<span id="cb4-55"><a href="#cb4-55" tabindex="-1"></a><span class="co">#&gt; 6  300          11.9            5.4</span></span>
<span id="cb4-56"><a href="#cb4-56" tabindex="-1"></a><span class="co">#&gt; 7  500          31.6           12.8</span></span>
<span id="cb4-57"><a href="#cb4-57" tabindex="-1"></a><span class="co">#&gt; 8 1000            NA           43.6</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Visualize scaling</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="co"># Separate data for exact mode (only where available) and greedy mode (all points)</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>exact_valid <span class="ot">&lt;-</span> <span class="sc">!</span><span class="fu">is.na</span>(benchmark<span class="sc">$</span>exact_time_ms) <span class="sc">&amp;</span> benchmark<span class="sc">$</span>exact_time_ms <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>greedy_valid <span class="ot">&lt;-</span> <span class="sc">!</span><span class="fu">is.na</span>(benchmark<span class="sc">$</span>greedy_time_ms) <span class="sc">&amp;</span> benchmark<span class="sc">$</span>greedy_time_ms <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co"># Replace any zeros with small positive value for log scale</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>exact_times <span class="ot">&lt;-</span> benchmark<span class="sc">$</span>exact_time_ms</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>greedy_times <span class="ot">&lt;-</span> benchmark<span class="sc">$</span>greedy_time_ms</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>exact_times[exact_times <span class="sc">&lt;=</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(exact_times)] <span class="ot">&lt;-</span> <span class="fl">0.01</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>greedy_times[greedy_times <span class="sc">&lt;=</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(greedy_times)] <span class="ot">&lt;-</span> <span class="fl">0.01</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co"># Determine y-axis limits from valid data</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>all_valid_times <span class="ot">&lt;-</span> <span class="fu">c</span>(exact_times[exact_valid], greedy_times[greedy_valid])</span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a>ylim <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">min</span>(all_valid_times) <span class="sc">*</span> <span class="fl">0.5</span>, <span class="fu">max</span>(all_valid_times) <span class="sc">*</span> <span class="dv">2</span>)</span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a><span class="co"># Plot greedy mode (all points)</span></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="fu">plot</span>(benchmark<span class="sc">$</span>p[greedy_valid], greedy_times[greedy_valid],</span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">&quot;b&quot;</span>, <span class="at">col =</span> <span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.8</span>, <span class="dv">1</span>), <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Number of Predictors (p)&quot;</span>,</span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Time (milliseconds, log scale)&quot;</span>,</span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Exact vs Greedy Scaling&quot;</span>,</span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a>     <span class="at">ylim =</span> ylim,</span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">range</span>(benchmark<span class="sc">$</span>p),</span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a>     <span class="at">log =</span> <span class="st">&quot;y&quot;</span>)</span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a></span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a><span class="co"># Add exact mode (only where available)</span></span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a><span class="fu">lines</span>(benchmark<span class="sc">$</span>p[exact_valid], exact_times[exact_valid],</span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;b&quot;</span>, <span class="at">col =</span> <span class="fu">rgb</span>(<span class="fl">0.8</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="dv">1</span>), <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a></span>
<span id="cb5-30"><a href="#cb5-30" tabindex="-1"></a><span class="co"># Mark exact mode limit</span></span>
<span id="cb5-31"><a href="#cb5-31" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> <span class="dv">500</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">&quot;gray50&quot;</span>)</span>
<span id="cb5-32"><a href="#cb5-32" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">500</span>, ylim[<span class="dv">2</span>] <span class="sc">*</span> <span class="fl">0.5</span>, <span class="st">&quot;Exact mode limit&quot;</span>, <span class="at">pos =</span> <span class="dv">4</span>, <span class="at">col =</span> <span class="st">&quot;gray30&quot;</span>)</span>
<span id="cb5-33"><a href="#cb5-33" tabindex="-1"></a></span>
<span id="cb5-34"><a href="#cb5-34" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topleft&quot;</span>,</span>
<span id="cb5-35"><a href="#cb5-35" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;Exact&quot;</span>, <span class="st">&quot;Greedy&quot;</span>),</span>
<span id="cb5-36"><a href="#cb5-36" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="fu">rgb</span>(<span class="fl">0.8</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="dv">1</span>), <span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.8</span>, <span class="dv">1</span>)),</span>
<span id="cb5-37"><a href="#cb5-37" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb5-38"><a href="#cb5-38" tabindex="-1"></a>       <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb5-39"><a href="#cb5-39" tabindex="-1"></a>       <span class="at">bty =</span> <span class="st">&quot;o&quot;</span>,</span>
<span id="cb5-40"><a href="#cb5-40" tabindex="-1"></a>       <span class="at">bg =</span> <span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<p><img role="img" aria-label="Log-scale plot showing runtime (milliseconds) versus number of predictors for exact mode (red line) and greedy mode (blue line). Exact mode shows exponential growth with runtime increasing sharply after p=100, becoming impractical beyond p=500 (marked by vertical gray dashed line). Greedy mode shows linear scaling, remaining fast even at p=1000, demonstrating orders-of-magnitude performance advantage for high-dimensional data." src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnID8+CjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgd2lkdGg9JzU3Ni4wMHB0JyBoZWlnaHQ9JzM2MC4wMHB0JyB2aWV3Qm94PScwIDAgNTc2LjAwIDM2MC4wMCc+CjxnIGNsYXNzPSdzdmdsaXRlJz4KPGRlZnM+CiAgPHN0eWxlIHR5cGU9J3RleHQvY3NzJz48IVtDREFUQVsKICAgIC5zdmdsaXRlIGxpbmUsIC5zdmdsaXRlIHBvbHlsaW5lLCAuc3ZnbGl0ZSBwb2x5Z29uLCAuc3ZnbGl0ZSBwYXRoLCAuc3ZnbGl0ZSByZWN0LCAuc3ZnbGl0ZSBjaXJjbGUgewogICAgICBmaWxsOiBub25lOwogICAgICBzdHJva2U6ICMwMDAwMDA7CiAgICAgIHN0cm9rZS1saW5lY2FwOiByb3VuZDsKICAgICAgc3Ryb2tlLWxpbmVqb2luOiByb3VuZDsKICAgICAgc3Ryb2tlLW1pdGVybGltaXQ6IDEwLjAwOwogICAgfQogICAgLnN2Z2xpdGUgdGV4dCB7CiAgICAgIHdoaXRlLXNwYWNlOiBwcmU7CiAgICB9CiAgICAuc3ZnbGl0ZSBnLmdseXBoZ3JvdXAgcGF0aCB7CiAgICAgIGZpbGw6IGluaGVyaXQ7CiAgICAgIHN0cm9rZTogbm9uZTsKICAgIH0KICBdXT48L3N0eWxlPgo8L2RlZnM+CjxyZWN0IHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnIHN0eWxlPSdzdHJva2U6IG5vbmU7IGZpbGw6ICNGRkZGRkY7Jy8+CjxkZWZzPgogIDxjbGlwUGF0aCBpZD0nY3BNQzR3TUh3MU56WXVNREI4TUM0d01Id3pOakF1TURBPSc+CiAgICA8cmVjdCB4PScwLjAwJyB5PScwLjAwJyB3aWR0aD0nNTc2LjAwJyBoZWlnaHQ9JzM2MC4wMCcgLz4KICA8L2NsaXBQYXRoPgo8L2RlZnM+CjxnIGNsaXAtcGF0aD0ndXJsKCNjcE1DNHdNSHcxTnpZdU1EQjhNQzR3TUh3ek5qQXVNREE9KSc+CjwvZz4KPGRlZnM+CiAgPGNsaXBQYXRoIGlkPSdjcE5Ua3VNRFI4TlRRMUxqYzJmRFU1TGpBMGZESTROaTQxTmc9PSc+CiAgICA8cmVjdCB4PSc1OS4wNCcgeT0nNTkuMDQnIHdpZHRoPSc0ODYuNzInIGhlaWdodD0nMjI3LjUyJyAvPgogIDwvY2xpcFBhdGg+CjwvZGVmcz4KPGcgY2xpcC1wYXRoPSd1cmwoI2NwTlRrdU1EUjhOVFExTGpjMmZEVTVMakEwZkRJNE5pNDFOZz09KSc+CjxsaW5lIHgxPSc4NC45MycgeTE9JzIzNy41NicgeDI9JzkxLjk2JyB5Mj0nMjIzLjk4JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMzMzgwQ0M7JyAvPgo8bGluZSB4MT0nMTAwLjI2JyB5MT0nMjEyLjM5JyB4Mj0nMTEzLjA1JyB5Mj0nMTk5LjA3JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMzMzgwQ0M7JyAvPgo8bGluZSB4MT0nMTI0LjU0JyB5MT0nMTkwLjc5JyB4Mj0nMTU3LjA1JyB5Mj0nMTc1LjM5JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMzMzgwQ0M7JyAvPgo8bGluZSB4MT0nMTcwLjI0JyB5MT0nMTY5LjYyJyB4Mj0nMjAyLjQwJyB5Mj0nMTU2LjcwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMzMzgwQ0M7JyAvPgo8bGluZSB4MT0nMjE1Ljk5JyB5MT0nMTUxLjk4JyB4Mj0nMjkzLjIyJyB5Mj0nMTI5LjIwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMzMzgwQ0M7JyAvPgo8bGluZSB4MT0nMzA3LjIyJyB5MT0nMTI1Ljk4JyB4Mj0nNTIwLjYzJyB5Mj0nOTAuMjInIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzMzODBDQzsnIC8+CjxjaXJjbGUgY3g9Jzc3LjA3JyBjeT0nMjU2LjU3JyByPScyLjcwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMzMzgwQ0M7IGZpbGw6ICMzMzgwQ0M7JyAvPgo8Y2lyY2xlIGN4PSc4MS42MicgY3k9JzI0My45NScgcj0nMi43MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjMzM4MENDOyBmaWxsOiAjMzM4MENDOycgLz4KPGNpcmNsZSBjeD0nOTUuMjgnIGN5PScyMTcuNTknIHI9JzIuNzAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzMzODBDQzsgZmlsbDogIzMzODBDQzsnIC8+CjxjaXJjbGUgY3g9JzExOC4wNCcgY3k9JzE5My44Nycgcj0nMi43MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjMzM4MENDOyBmaWxsOiAjMzM4MENDOycgLz4KPGNpcmNsZSBjeD0nMTYzLjU2JyBjeT0nMTcyLjMxJyByPScyLjcwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMzMzgwQ0M7IGZpbGw6ICMzMzgwQ0M7JyAvPgo8Y2lyY2xlIGN4PScyMDkuMDgnIGN5PScxNTQuMDInIHI9JzIuNzAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzMzODBDQzsgZmlsbDogIzMzODBDQzsnIC8+CjxjaXJjbGUgY3g9JzMwMC4xMicgY3k9JzEyNy4xNycgcj0nMi43MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjMzM4MENDOyBmaWxsOiAjMzM4MENDOycgLz4KPGNpcmNsZSBjeD0nNTI3LjczJyBjeT0nODkuMDMnIHI9JzIuNzAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzMzODBDQzsgZmlsbDogIzMzODBDQzsnIC8+CjwvZz4KPGcgY2xpcC1wYXRoPSd1cmwoI2NwTUM0d01IdzFOell1TURCOE1DNHdNSHd6TmpBdU1EQT0pJz4KPGxpbmUgeDE9JzcyLjUxJyB5MT0nMjg2LjU2JyB4Mj0nNTI3LjczJyB5Mj0nMjg2LjU2JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPGxpbmUgeDE9JzcyLjUxJyB5MT0nMjg2LjU2JyB4Mj0nNzIuNTEnIHkyPScyOTMuNzYnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7JyAvPgo8bGluZSB4MT0nMTYzLjU2JyB5MT0nMjg2LjU2JyB4Mj0nMTYzLjU2JyB5Mj0nMjkzLjc2JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPGxpbmUgeDE9JzI1NC42MCcgeTE9JzI4Ni41NicgeDI9JzI1NC42MCcgeTI9JzI5My43Nicgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+CjxsaW5lIHgxPSczNDUuNjUnIHkxPScyODYuNTYnIHgyPSczNDUuNjUnIHkyPScyOTMuNzYnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7JyAvPgo8bGluZSB4MT0nNDM2LjY5JyB5MT0nMjg2LjU2JyB4Mj0nNDM2LjY5JyB5Mj0nMjkzLjc2JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPGxpbmUgeDE9JzUyNy43MycgeTE9JzI4Ni41NicgeDI9JzUyNy43MycgeTI9JzI5My43Nicgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+Cjx0ZXh0IHg9JzcyLjUxJyB5PSczMTIuNDgnIHRleHQtYW5jaG9yPSdtaWRkbGUnIHN0eWxlPSdmb250LXNpemU6IDEyLjAwcHg7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nNi42N3B4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjA8L3RleHQ+Cjx0ZXh0IHg9JzE2My41NicgeT0nMzEyLjQ4JyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBzdHlsZT0nZm9udC1zaXplOiAxMi4wMHB4OyBmb250LWZhbWlseTogIkFyaWFsIjsnIHRleHRMZW5ndGg9JzIwLjAycHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+MjAwPC90ZXh0Pgo8dGV4dCB4PScyNTQuNjAnIHk9JzMxMi40OCcgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPScyMC4wMnB4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjQwMDwvdGV4dD4KPHRleHQgeD0nMzQ1LjY1JyB5PSczMTIuNDgnIHRleHQtYW5jaG9yPSdtaWRkbGUnIHN0eWxlPSdmb250LXNpemU6IDEyLjAwcHg7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nMjAuMDJweCcgbGVuZ3RoQWRqdXN0PSdzcGFjaW5nQW5kR2x5cGhzJz42MDA8L3RleHQ+Cjx0ZXh0IHg9JzQzNi42OScgeT0nMzEyLjQ4JyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBzdHlsZT0nZm9udC1zaXplOiAxMi4wMHB4OyBmb250LWZhbWlseTogIkFyaWFsIjsnIHRleHRMZW5ndGg9JzIwLjAycHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+ODAwPC90ZXh0Pgo8dGV4dCB4PSc1MjcuNzMnIHk9JzMxMi40OCcgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPScyNi42OXB4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjEwMDA8L3RleHQ+CjxsaW5lIHgxPSc1OS4wNCcgeTE9JzI3OC4xMycgeDI9JzU5LjA0JyB5Mj0nNjMuMjEnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7JyAvPgo8bGluZSB4MT0nNTkuMDQnIHkxPScyNzguMTMnIHgyPSc1MS44NCcgeTI9JzI3OC4xMycgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+CjxsaW5lIHgxPSc1OS4wNCcgeTE9JzIyOC4wNicgeDI9JzUxLjg0JyB5Mj0nMjI4LjA2JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPGxpbmUgeDE9JzU5LjA0JyB5MT0nMjA2LjQ5JyB4Mj0nNTEuODQnIHkyPScyMDYuNDknIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7JyAvPgo8bGluZSB4MT0nNTkuMDQnIHkxPScxNTYuNDEnIHgyPSc1MS44NCcgeTI9JzE1Ni40MScgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+CjxsaW5lIHgxPSc1OS4wNCcgeTE9JzEzNC44NScgeDI9JzUxLjg0JyB5Mj0nMTM0Ljg1JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPGxpbmUgeDE9JzU5LjA0JyB5MT0nODQuNzcnIHgyPSc1MS44NCcgeTI9Jzg0Ljc3JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPGxpbmUgeDE9JzU5LjA0JyB5MT0nNjMuMjEnIHgyPSc1MS44NCcgeTI9JzYzLjIxJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPHRleHQgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNDEuNzYsMjc4LjEzKSByb3RhdGUoLTkwKScgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPScxNi42N3B4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjAuMTwvdGV4dD4KPHRleHQgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNDEuNzYsMjI4LjA2KSByb3RhdGUoLTkwKScgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPScxNi42N3B4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjAuNTwvdGV4dD4KPHRleHQgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNDEuNzYsMTU2LjQxKSByb3RhdGUoLTkwKScgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPScxNi42N3B4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjUuMDwvdGV4dD4KPHRleHQgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNDEuNzYsODQuNzcpIHJvdGF0ZSgtOTApJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBzdHlsZT0nZm9udC1zaXplOiAxMi4wMHB4OyBmb250LWZhbWlseTogIkFyaWFsIjsnIHRleHRMZW5ndGg9JzIzLjM0cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+NTAuMDwvdGV4dD4KPHBvbHlnb24gcG9pbnRzPSc1OS4wNCwyODYuNTYgNTQ1Ljc2LDI4Ni41NiA1NDUuNzYsNTkuMDQgNTkuMDQsNTkuMDQgJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPHRleHQgeD0nMzAyLjQwJyB5PSczNC42NycgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTQuNDBweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nMTY3LjE2cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+RXhhY3QgdnMgR3JlZWR5IFNjYWxpbmc8L3RleHQ+Cjx0ZXh0IHg9JzMwMi40MCcgeT0nMzQxLjI4JyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBzdHlsZT0nZm9udC1zaXplOiAxMi4wMHB4OyBmb250LWZhbWlseTogIkFyaWFsIjsnIHRleHRMZW5ndGg9JzEzMS4zNnB4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPk51bWJlciBvZiBQcmVkaWN0b3JzIChwKTwvdGV4dD4KPHRleHQgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMTIuOTYsMTcyLjgwKSByb3RhdGUoLTkwKScgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPScxNTYuOTVweCcgbGVuZ3RoQWRqdXN0PSdzcGFjaW5nQW5kR2x5cGhzJz5UaW1lIChtaWxsaXNlY29uZHMsIGxvZyBzY2FsZSk8L3RleHQ+CjwvZz4KPGcgY2xpcC1wYXRoPSd1cmwoI2NwTlRrdU1EUjhOVFExTGpjMmZEVTVMakEwZkRJNE5pNDFOZz09KSc+CjxsaW5lIHgxPSc4NS40NycgeTE9JzIyMS45NycgeDI9JzkxLjQyJyB5Mj0nMjEyLjU3JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICNDQzMzMzM7JyAvPgo8bGluZSB4MT0nMTAwLjg5JyB5MT0nMjAxLjk4JyB4Mj0nMTEyLjQyJyB5Mj0nMTkyLjcxJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICNDQzMzMzM7JyAvPgo8bGluZSB4MT0nMTI0LjAyJyB5MT0nMTg0LjE5JyB4Mj0nMTU3LjU4JyB5Mj0nMTYxLjY5JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICNDQzMzMzM7JyAvPgo8bGluZSB4MT0nMTY5LjY4JyB5MT0nMTUzLjg5JyB4Mj0nMjAyLjk2JyB5Mj0nMTMzLjIzJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICNDQzMzMzM7JyAvPgo8bGluZSB4MT0nMjE1LjkxJyB5MT0nMTI3LjE2JyB4Mj0nMjkzLjI5JyB5Mj0nMTAxLjMzJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICNDQzMzMzM7JyAvPgo8Y2lyY2xlIGN4PSc3Ny4wNycgY3k9JzIzNS4wMCcgcj0nMi43MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjQ0MzMzMzOyBmaWxsOiAjQ0MzMzMzOycgLz4KPGNpcmNsZSBjeD0nODEuNjInIGN5PScyMjguMDYnIHI9JzIuNzAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogI0NDMzMzMzsgZmlsbDogI0NDMzMzMzsnIC8+CjxjaXJjbGUgY3g9Jzk1LjI4JyBjeT0nMjA2LjQ5JyByPScyLjcwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICNDQzMzMzM7IGZpbGw6ICNDQzMzMzM7JyAvPgo8Y2lyY2xlIGN4PScxMTguMDQnIGN5PScxODguMjAnIHI9JzIuNzAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogI0NDMzMzMzsgZmlsbDogI0NDMzMzMzsnIC8+CjxjaXJjbGUgY3g9JzE2My41NicgY3k9JzE1Ny42OCcgcj0nMi43MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjQ0MzMzMzOyBmaWxsOiAjQ0MzMzMzOycgLz4KPGNpcmNsZSBjeD0nMjA5LjA4JyBjeT0nMTI5LjQ0JyByPScyLjcwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICNDQzMzMzM7IGZpbGw6ICNDQzMzMzM7JyAvPgo8Y2lyY2xlIGN4PSczMDAuMTInIGN5PSc5OS4wNScgcj0nMi43MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjQ0MzMzMzOyBmaWxsOiAjQ0MzMzMzOycgLz4KPGxpbmUgeDE9JzMwMC4xMicgeTE9JzI4Ni41NicgeDI9JzMwMC4xMicgeTI9JzU5LjA0JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OyBzdHJva2U6ICM3RjdGN0Y7IHN0cm9rZS1kYXNoYXJyYXk6IDQuMDAsNC4wMDsnIC8+Cjx0ZXh0IHg9JzMwNy4zMicgeT0nOTEuOTAnIHN0eWxlPSdmb250LXNpemU6IDEyLjAwcHg7ZmlsbDogIzRENEQ0RDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSc4OC4wMnB4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPkV4YWN0IG1vZGUgbGltaXQ8L3RleHQ+CjxyZWN0IHg9JzU5LjA0JyB5PSc1OS4wNCcgd2lkdGg9JzgwLjM4JyBoZWlnaHQ9JzQzLjIwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OyBmaWxsOiAjRkZGRkZGOycgLz4KPGxpbmUgeDE9JzYyLjI4JyB5MT0nNzMuNDQnIHgyPSc4My44OCcgeTI9JzczLjQ0JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICNDQzMzMzM7JyAvPgo8bGluZSB4MT0nNjIuMjgnIHkxPSc4Ny44NCcgeDI9JzgzLjg4JyB5Mj0nODcuODQnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzMzODBDQzsnIC8+CjxjaXJjbGUgY3g9JzczLjA4JyBjeT0nNzMuNDQnIHI9JzIuNzAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogI0NDMzMzMzsgZmlsbDogI0NDMzMzMzsnIC8+CjxjaXJjbGUgY3g9JzczLjA4JyBjeT0nODcuODQnIHI9JzIuNzAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzMzODBDQzsgZmlsbDogIzMzODBDQzsnIC8+Cjx0ZXh0IHg9Jzk0LjY4JyB5PSc3Ny43NCcgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSczMC4wMHB4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPkV4YWN0PC90ZXh0Pgo8dGV4dCB4PSc5NC42OCcgeT0nOTIuMTQnIHN0eWxlPSdmb250LXNpemU6IDEyLjAwcHg7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nMzkuMzRweCcgbGVuZ3RoQWRqdXN0PSdzcGFjaW5nQW5kR2x5cGhzJz5HcmVlZHk8L3RleHQ+CjwvZz4KPC9nPgo8L3N2Zz4K" alt="Log-scale plot showing runtime (milliseconds) versus number of predictors for exact mode (red line) and greedy mode (blue line). Exact mode shows exponential growth with runtime increasing sharply after p=100, becoming impractical beyond p=500 (marked by vertical gray dashed line). Greedy mode shows linear scaling, remaining fast even at p=1000, demonstrating orders-of-magnitude performance advantage for high-dimensional data." /></p>
<p><strong>Key insight</strong>: The scaling behavior depends heavily on
correlation structure. For this moderately correlated dataset (ρ =
0.5^|i-j|), exact mode remains practical up to p ≈ 500, while greedy
mode scales efficiently beyond p = 1000. The exact mode provides
guaranteed optimality at the cost of computational complexity, while
greedy mode offers substantial speed advantages for large p with
near-optimal results in most practical scenarios.</p>
</div>
<div id="deterministic-tie-breaking" class="section level2">
<h2>1.3 Deterministic Tie-Breaking</h2>
<p>When multiple variables have identical correlation profiles,
corrselect uses deterministic tie-breaking:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Create data with identical correlations</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> x1 <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">sd =</span> <span class="fl">0.1</span>)  <span class="co"># Almost identical to x1</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>x3 <span class="ot">&lt;-</span> x1 <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">sd =</span> <span class="fl">0.1</span>)  <span class="co"># Also almost identical to x1</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>x4 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)                  <span class="co"># Independent</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>data_ties <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x1, x2, x3, x4)</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="co"># Run multiple times - always same result</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>result1 <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(data_ties, <span class="at">threshold =</span> <span class="fl">0.95</span>)</span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a>result2 <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(data_ties, <span class="at">threshold =</span> <span class="fl">0.95</span>)</span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Run 1 selected:&quot;</span>, <span class="fu">names</span>(result1), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="co">#&gt; Run 1 selected: x2 x4</span></span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Run 2 selected:&quot;</span>, <span class="fu">names</span>(result2), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a><span class="co">#&gt; Run 2 selected: x2 x4</span></span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Identical:&quot;</span>, <span class="fu">identical</span>(<span class="fu">names</span>(result1), <span class="fu">names</span>(result2)), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a><span class="co">#&gt; Identical: TRUE</span></span></code></pre></div>
<p><strong>Tie-breaking rules</strong>: 1. Prefer variables with lower
<strong>mean absolute correlation</strong> with others 2. If still tied,
prefer <strong>lexicographically first</strong> (alphabetical)</p>
<p>This ensures reproducibility across runs, machines, and R
versions.</p>
<hr />
</div>
<div id="grouped-pruning" class="section level2">
<h2>1.4 Grouped Pruning</h2>
<p>When correlations vary across subgroups (e.g., experimental
conditions, species, sites), grouped pruning computes associations
<strong>per group</strong> and aggregates them.</p>
<div id="basic-usage" class="section level3">
<h3>Basic Usage</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Create data with grouping variable</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>  <span class="at">x1 =</span> <span class="fu">rnorm</span>(n),</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>  <span class="at">x2 =</span> <span class="fu">rnorm</span>(n),</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>  <span class="at">x3 =</span> <span class="fu">rnorm</span>(n),</span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>  <span class="at">site =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>), <span class="at">each =</span> n<span class="sc">/</span><span class="dv">4</span>)</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a>)</span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co"># Prune using per-group correlations (aggregated with median)</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(df, <span class="at">threshold =</span> <span class="fl">0.5</span>, <span class="at">by =</span> <span class="st">&quot;site&quot;</span>, <span class="at">group_q =</span> <span class="fl">0.5</span>)</span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Selected:&quot;</span>, <span class="fu">attr</span>(result, <span class="st">&quot;selected_vars&quot;</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="co">#&gt; Selected: x1 x2 x3</span></span></code></pre></div>
</div>
<div id="parameters" class="section level3">
<h3>Parameters</h3>
<table>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>by</code></td>
<td>Column name(s) for grouping</td>
</tr>
<tr class="even">
<td><code>group_q</code></td>
<td>Quantile for aggregation: 0.5 = median, 1.0 = max</td>
</tr>
</tbody>
</table>
</div>
<div id="when-to-use" class="section level3">
<h3>When to Use</h3>
<ul>
<li><strong>Multi-site studies</strong>: Correlations may differ across
locations</li>
<li><strong>Experimental conditions</strong>: Treatment groups may have
different correlation structures</li>
<li><strong>Longitudinal data</strong>: Correlations may change over
time periods</li>
</ul>
<hr />
</div>
</div>
</div>
<div id="custom-engines-for-modelprune" class="section level1">
<h1>2. Custom Engines for modelPrune()</h1>
<div id="understanding-custom-engines" class="section level2">
<h2>2.1 Understanding Custom Engines</h2>
<div id="what-is-a-custom-engine" class="section level3">
<h3>What is a Custom Engine?</h3>
<p>A custom engine allows you to integrate <strong>any</strong> modeling
framework with <code>modelPrune()</code>, not just base R’s
<code>lm()</code> or <code>lme4</code>. This enables diagnostic-based
pruning (VIF or condition number) for:</p>
<ul>
<li><strong>Bayesian models</strong> (INLA, brms, Stan)</li>
<li><strong>Additive models</strong> (mgcv GAMs)</li>
<li><strong>Survival models</strong> (coxph, flexsurv)</li>
<li><strong>Custom metrics</strong> (AIC, BIC, posterior
uncertainty)</li>
</ul>
</div>
<div id="built-in-criteria" class="section level3">
<h3>Built-in Criteria</h3>
<p>For built-in engines (<code>lm</code>, <code>glm</code>,
<code>lme4</code>, <code>glmmTMB</code>), two criteria are
available:</p>
<ul>
<li><strong><code>vif</code></strong> (default): Variance Inflation
Factor - classic multicollinearity measure</li>
<li><strong><code>condition_number</code></strong>: SVD-based condition
indices - alternative collinearity diagnostic</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Using condition number instead of VIF</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>result_cn <span class="ot">&lt;-</span> <span class="fu">modelPrune</span>(mpg <span class="sc">~</span> ., <span class="at">data =</span> mtcars, <span class="at">criterion =</span> <span class="st">&quot;condition_number&quot;</span>, <span class="at">limit =</span> <span class="dv">10</span>)</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Selected:&quot;</span>, <span class="fu">attr</span>(result_cn, <span class="st">&quot;selected_vars&quot;</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co">#&gt; Selected: cyl disp hp drat wt qsec vs am</span></span></code></pre></div>
</div>
<div id="how-custom-engines-work" class="section level3">
<h3>How Custom Engines Work</h3>
<p>The <code>modelPrune()</code> algorithm follows this iterative
process:</p>
<ol style="list-style-type: decimal">
<li><strong>Fit</strong> the model with current predictors</li>
<li><strong>Diagnose</strong> each predictor (compute a “badness”
metric)</li>
<li><strong>Identify</strong> the worst predictor (highest diagnostic
value)</li>
<li><strong>Remove</strong> if it exceeds the <code>limit</code>
threshold</li>
<li><strong>Repeat</strong> until all predictors satisfy the limit</li>
</ol>
<p>Your custom engine defines steps 1 and 2; <code>modelPrune()</code>
handles the iteration logic.</p>
</div>
<div id="engine-structure-requirements" class="section level3">
<h3>Engine Structure Requirements</h3>
<p>A custom engine is a named list with two required functions:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>my_engine <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="co"># Required: How to fit the model</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="at">fit =</span> <span class="cf">function</span>(formula, data, ...) {</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>    <span class="co"># Your model fitting code</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>    <span class="co"># Must return a fitted model object</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>  },</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>  <span class="co"># Required: How to compute diagnostics</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>  <span class="at">diagnostics =</span> <span class="cf">function</span>(model, fixed_effects) {</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>    <span class="co"># Compute diagnostic scores for each fixed effect</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>    <span class="co"># Higher values = worse (more likely to be removed)</span></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>    <span class="co"># Must return a named numeric vector</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>  },</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>  <span class="co"># Optional: Name for error messages</span></span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">&quot;my_custom_engine&quot;</span>  <span class="co"># Defaults to &quot;custom&quot;</span></span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a>)</span></code></pre></div>
<p><strong>Key principle</strong>: The <code>diagnostics</code> function
must return <strong>higher values for worse predictors</strong>. This
inverted metric ensures the algorithm removes the most problematic
variables first.</p>
</div>
</div>
<div id="example-inla-engine-bayesian-spatial-models" class="section level2">
<h2>2.2 Example: INLA Engine (Bayesian Spatial Models)</h2>
<div id="background" class="section level3">
<h3>Background</h3>
<p>INLA (Integrated Nested Laplace Approximations) is a popular package
for fast Bayesian inference, especially for spatial and temporal models.
Unlike traditional VIF, we can use <strong>posterior
uncertainty</strong> as a pruning criterion: variables with high
posterior standard deviation contribute less information to the
model.</p>
</div>
<div id="implementation" class="section level3">
<h3>Implementation</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># Custom engine for INLA</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>inla_engine <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">&quot;inla&quot;</span>,</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>  <span class="at">fit =</span> <span class="cf">function</span>(formula, data, ...) {</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>    <span class="co"># Fit INLA model</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>    INLA<span class="sc">::</span><span class="fu">inla</span>(</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>      <span class="at">formula =</span> formula,</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>      <span class="at">data =</span> data,</span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">list</span>(...)<span class="sc">$</span>family <span class="sc">%||%</span> <span class="st">&quot;gaussian&quot;</span>,</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>      <span class="at">control.compute =</span> <span class="fu">list</span>(<span class="at">config =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a>      ...</span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a>    )</span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a>  },</span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a>  <span class="at">diagnostics =</span> <span class="cf">function</span>(model, fixed_effects) {</span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a>    <span class="co"># Use posterior SD as &quot;badness&quot; metric</span></span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a>    <span class="co"># Higher SD = more uncertain = candidate for removal</span></span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a>    summary_fixed <span class="ot">&lt;-</span> model<span class="sc">$</span>summary.fixed</span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a>    scores <span class="ot">&lt;-</span> summary_fixed[, <span class="st">&quot;sd&quot;</span>]</span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a>    <span class="fu">names</span>(scores) <span class="ot">&lt;-</span> <span class="fu">rownames</span>(summary_fixed)</span>
<span id="cb10-22"><a href="#cb10-22" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" tabindex="-1"></a>    <span class="co"># Return scores for fixed effects only</span></span>
<span id="cb10-24"><a href="#cb10-24" tabindex="-1"></a>    scores[fixed_effects]</span>
<span id="cb10-25"><a href="#cb10-25" tabindex="-1"></a>  }</span>
<span id="cb10-26"><a href="#cb10-26" tabindex="-1"></a>)</span>
<span id="cb10-27"><a href="#cb10-27" tabindex="-1"></a></span>
<span id="cb10-28"><a href="#cb10-28" tabindex="-1"></a><span class="co"># Usage example</span></span>
<span id="cb10-29"><a href="#cb10-29" tabindex="-1"></a>pruned <span class="ot">&lt;-</span> <span class="fu">modelPrune</span>(</span>
<span id="cb10-30"><a href="#cb10-30" tabindex="-1"></a>  y <span class="sc">~</span> x1 <span class="sc">+</span> x2 <span class="sc">+</span> x3 <span class="sc">+</span> x4,</span>
<span id="cb10-31"><a href="#cb10-31" tabindex="-1"></a>  <span class="at">data =</span> my_data,</span>
<span id="cb10-32"><a href="#cb10-32" tabindex="-1"></a>  <span class="at">engine =</span> inla_engine,</span>
<span id="cb10-33"><a href="#cb10-33" tabindex="-1"></a>  <span class="at">limit =</span> <span class="fl">0.5</span>  <span class="co"># Remove if posterior SD &gt; 0.5</span></span>
<span id="cb10-34"><a href="#cb10-34" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="how-it-works" class="section level3">
<h3>How It Works</h3>
<ol style="list-style-type: decimal">
<li><strong>fit</strong>: Calls <code>INLA::inla()</code> to compute
posterior distributions</li>
<li><strong>diagnostics</strong>: Extracts posterior standard deviations
from <code>model$summary.fixed</code></li>
<li><strong>limit</strong>: Threshold for acceptable uncertainty (e.g.,
0.5 means remove predictors with posterior SD &gt; 0.5)</li>
</ol>
<p><strong>Interpretation</strong>: Variables with high posterior SD
have coefficients that are uncertain given the data. Removing them
reduces model complexity without losing much information.</p>
<p><strong>When to use</strong>: Spatial models, hierarchical models,
disease mapping, ecological modeling with INLA.</p>
</div>
</div>
<div id="example-mgcv-engine-gams" class="section level2">
<h2>2.3 Example: mgcv Engine (GAMs)</h2>
<div id="background-1" class="section level3">
<h3>Background</h3>
<p>Generalized Additive Models (GAMs) allow non-linear relationships via
smooth terms. When pruning GAMs, we want to remove <strong>parametric
(linear) terms</strong> with weak evidence while preserving smooth terms
that model non-linear patterns.</p>
</div>
<div id="implementation-1" class="section level3">
<h3>Implementation</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># Custom engine for mgcv GAMs</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>mgcv_engine <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">&quot;mgcv_gam&quot;</span>,</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>  <span class="at">fit =</span> <span class="cf">function</span>(formula, data, ...) {</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>    mgcv<span class="sc">::</span><span class="fu">gam</span>(formula, <span class="at">data =</span> data, ...)</span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>  },</span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>  <span class="at">diagnostics =</span> <span class="cf">function</span>(model, fixed_effects) {</span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>    <span class="co"># Use p-values as badness metric</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>    <span class="co"># Higher p-value = less significant = candidate for removal</span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>    summary_obj <span class="ot">&lt;-</span> <span class="fu">summary</span>(model)</span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a>    <span class="co"># Extract parametric term p-values</span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>    pvals <span class="ot">&lt;-</span> summary_obj<span class="sc">$</span>p.pv</span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a>    <span class="co"># Return p-values for fixed effects</span></span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a>    pvals[fixed_effects]</span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a>  }</span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a>)</span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a></span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a><span class="co"># Usage example</span></span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a>pruned <span class="ot">&lt;-</span> <span class="fu">modelPrune</span>(</span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a>  y <span class="sc">~</span> x1 <span class="sc">+</span> x2 <span class="sc">+</span> <span class="fu">s</span>(x3),  <span class="co"># s() for smooth terms</span></span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a>  <span class="at">data =</span> my_data,</span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a>  <span class="at">engine =</span> mgcv_engine,</span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a>  <span class="at">limit =</span> <span class="fl">0.05</span>  <span class="co"># Remove if p &gt; 0.05</span></span>
<span id="cb11-28"><a href="#cb11-28" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="how-it-works-1" class="section level3">
<h3>How It Works</h3>
<ol style="list-style-type: decimal">
<li><strong>fit</strong>: Calls <code>mgcv::gam()</code> to fit the
additive model</li>
<li><strong>diagnostics</strong>: Extracts p-values for
<strong>parametric terms only</strong> (not smooth terms)</li>
<li><strong>limit</strong>: Significance threshold (e.g., 0.05 for
traditional α = 0.05)</li>
</ol>
<p><strong>Important</strong>: <code>modelPrune()</code> only removes
parametric (linear) terms. Smooth terms specified with <code>s()</code>,
<code>te()</code>, etc. are <strong>never removed</strong>
automatically, as they’re part of the model structure.</p>
<p><strong>When to use</strong>: Non-linear regression, ecological
response curves, time series with trends.</p>
</div>
</div>
<div id="example-custom-criterion-aic-based" class="section level2">
<h2>2.4 Example: Custom Criterion (AIC-Based)</h2>
<div id="background-2" class="section level3">
<h3>Background</h3>
<p>Sometimes you want to prune based on <strong>model comparison
metrics</strong> rather than coefficient-level diagnostics. This example
shows how to remove variables that don’t improve model fit according to
AIC.</p>
</div>
<div id="implementation-2" class="section level3">
<h3>Implementation</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># AIC-based pruning engine</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>aic_engine <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">&quot;aic_pruner&quot;</span>,</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>  <span class="at">fit =</span> <span class="cf">function</span>(formula, data, ...) {</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>    <span class="fu">lm</span>(formula, <span class="at">data =</span> data)</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>  },</span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>  <span class="at">diagnostics =</span> <span class="cf">function</span>(model, fixed_effects) {</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>    <span class="co"># For each predictor, compute ΔAIC if removed</span></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>    full_aic <span class="ot">&lt;-</span> <span class="fu">AIC</span>(model)</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a>    scores <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="fu">length</span>(fixed_effects))</span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a>    <span class="fu">names</span>(scores) <span class="ot">&lt;-</span> fixed_effects</span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a>    <span class="cf">for</span> (var <span class="cf">in</span> fixed_effects) {</span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a>      <span class="co"># Refit without this variable</span></span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a>      reduced_formula <span class="ot">&lt;-</span> <span class="fu">update</span>(<span class="fu">formula</span>(model), <span class="fu">paste</span>(<span class="st">&quot;~ . -&quot;</span>, var))</span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a>      reduced_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(reduced_formula, <span class="at">data =</span> model<span class="sc">$</span>model)</span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a>      <span class="co"># ΔAIC: negative means removing improves model</span></span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a>      <span class="co"># We negate so &quot;higher = worse&quot; convention holds</span></span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a>      scores[var] <span class="ot">&lt;-</span> <span class="sc">-</span>(<span class="fu">AIC</span>(reduced_model) <span class="sc">-</span> full_aic)</span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a>    }</span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a></span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a>    scores</span>
<span id="cb12-27"><a href="#cb12-27" tabindex="-1"></a>  }</span>
<span id="cb12-28"><a href="#cb12-28" tabindex="-1"></a>)</span>
<span id="cb12-29"><a href="#cb12-29" tabindex="-1"></a></span>
<span id="cb12-30"><a href="#cb12-30" tabindex="-1"></a><span class="co"># Usage: Remove predictors with ΔAIC &lt; -2 (improve AIC by &gt; 2 when removed)</span></span>
<span id="cb12-31"><a href="#cb12-31" tabindex="-1"></a>pruned <span class="ot">&lt;-</span> <span class="fu">modelPrune</span>(</span>
<span id="cb12-32"><a href="#cb12-32" tabindex="-1"></a>  y <span class="sc">~</span> x1 <span class="sc">+</span> x2 <span class="sc">+</span> x3,</span>
<span id="cb12-33"><a href="#cb12-33" tabindex="-1"></a>  <span class="at">data =</span> my_data,</span>
<span id="cb12-34"><a href="#cb12-34" tabindex="-1"></a>  <span class="at">engine =</span> aic_engine,</span>
<span id="cb12-35"><a href="#cb12-35" tabindex="-1"></a>  <span class="at">limit =</span> <span class="sc">-</span><span class="dv">2</span></span>
<span id="cb12-36"><a href="#cb12-36" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="how-it-works-2" class="section level3">
<h3>How It Works</h3>
<ol style="list-style-type: decimal">
<li><strong>fit</strong>: Standard linear model</li>
<li><strong>diagnostics</strong>: For each variable, refit the model
<strong>without</strong> that variable and compute ΔAIC</li>
<li><strong>limit</strong>: Threshold for ΔAIC (e.g., -2 means “remove
if AIC improves by more than 2 points”)</li>
</ol>
<p><strong>Key insight</strong>: The score is <strong>negated</strong>
(multiplied by -1) to maintain the “higher is worse” convention. A
variable with score &gt; -2 means removing it would worsen AIC by more
than 2, so it’s kept.</p>
<p><strong>When to use</strong>: Model selection focused on parsimony,
comparing nested models, when VIF isn’t the right metric.</p>
<p><strong>Alternative metrics</strong>: You can adapt this pattern for
BIC, likelihood ratio tests, or any other model comparison
criterion.</p>
</div>
</div>
<div id="validation-and-error-handling" class="section level2">
<h2>2.5 Validation and Error Handling</h2>
<div id="automatic-validation" class="section level3">
<h3>Automatic Validation</h3>
<p><code>modelPrune()</code> automatically validates custom engines to
catch common errors early:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># Invalid engine: missing &#39;diagnostics&#39;</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>bad_engine <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>  <span class="at">fit =</span> <span class="cf">function</span>(formula, data, ...) <span class="fu">lm</span>(formula, <span class="at">data =</span> data)</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>  <span class="co"># Missing &#39;diagnostics&#39;</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>)</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="fu">tryCatch</span>({</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>  <span class="fu">modelPrune</span>(mpg <span class="sc">~</span> ., <span class="at">data =</span> mtcars, <span class="at">engine =</span> bad_engine, <span class="at">limit =</span> <span class="dv">5</span>)</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>}, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Error:&quot;</span>, e<span class="sc">$</span>message, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a>})</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a><span class="co">#&gt; Error: Custom engine missing required fields: diagnostics</span></span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a><span class="co">#&gt; Required: &#39;fit&#39; and &#39;diagnostics&#39;</span></span></code></pre></div>
</div>
<div id="validation-checklist" class="section level3">
<h3>Validation Checklist</h3>
<p>Your custom engine must satisfy these requirements:</p>
<ol style="list-style-type: decimal">
<li><strong>Structure</strong>: Named list with <code>fit</code> and
<code>diagnostics</code> functions</li>
<li><strong>fit returns model object</strong>: Must return something the
<code>diagnostics</code> function can consume</li>
<li><strong>diagnostics returns numeric vector</strong>: No characters,
factors, or other types</li>
<li><strong>Correct length</strong>: One diagnostic value per fixed
effect (excluding intercept)</li>
<li><strong>Named vector</strong>: Names must match variable names
exactly</li>
<li><strong>No missing values</strong>: NA, NaN, or Inf will cause
errors</li>
<li><strong>Higher = worse</strong>: Diagnostic values must increase for
more problematic predictors</li>
</ol>
</div>
<div id="debugging-tips" class="section level3">
<h3>Debugging Tips</h3>
<p>If your custom engine fails, check:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># Test your fit function in isolation</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>test_model <span class="ot">&lt;-</span> my_engine<span class="sc">$</span><span class="fu">fit</span>(y <span class="sc">~</span> x1 <span class="sc">+</span> x2, <span class="at">data =</span> my_data)</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="fu">summary</span>(test_model)  <span class="co"># Does it work?</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="co"># Test your diagnostics function</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>test_diag <span class="ot">&lt;-</span> my_engine<span class="sc">$</span><span class="fu">diagnostics</span>(test_model, <span class="fu">c</span>(<span class="st">&quot;x1&quot;</span>, <span class="st">&quot;x2&quot;</span>))</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="fu">print</span>(test_diag)  <span class="co"># Numeric? Named? Correct length?</span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a><span class="co"># Check that &quot;higher = worse&quot; convention is satisfied</span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a><span class="co"># The variable with the highest score should be the one you&#39;d remove first</span></span></code></pre></div>
<hr />
</div>
</div>
</div>
<div id="exact-subset-enumeration" class="section level1">
<h1>3. Exact Subset Enumeration</h1>
<div id="when-you-need-all-maximal-subsets" class="section level2">
<h2>3.1 When You Need ALL Maximal Subsets</h2>
<p><code>corrPrune()</code> returns a <strong>single</strong> subset.
Sometimes you want <strong>all</strong> maximal subsets:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># corrPrune: Single subset</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>single <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(mtcars, <span class="at">threshold =</span> <span class="fl">0.7</span>)</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;corrPrune returned:&quot;</span>, <span class="fu">ncol</span>(single), <span class="st">&quot;variables</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="co">#&gt; corrPrune returned: 5 variables</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="co"># corrSelect: ALL maximal subsets (use higher threshold to ensure subsets exist)</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>all_subsets <span class="ot">&lt;-</span> <span class="fu">corrSelect</span>(mtcars, <span class="at">threshold =</span> <span class="fl">0.9</span>)</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="fu">show</span>(all_subsets)</span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="co">#&gt; CorrCombo object</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="co">#&gt; -----------------</span></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a><span class="co">#&gt;   Method:      bron-kerbosch</span></span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a><span class="co">#&gt;   Correlation: pearson</span></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="co">#&gt;   Threshold:   0.900</span></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="co">#&gt;   Subsets:     2 maximal subsets</span></span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="co">#&gt;   Data Rows:   32 used in correlation</span></span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a><span class="co">#&gt;   Pivot:       TRUE</span></span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a><span class="co">#&gt; Top combinations:</span></span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a><span class="co">#&gt;   No.  Variables                          Avg    Max    Size</span></span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a><span class="co">#&gt;   ------------------------------------------------------------</span></span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a><span class="co">#&gt;   [ 1] mpg, disp, hp, drat, wt, qsec...  0.527  0.888    10</span></span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a><span class="co">#&gt;   [ 2] mpg, cyl, hp, drat, wt, qsec,...  0.531  0.868    10</span></span></code></pre></div>
</div>
<div id="exploring-multiple-subsets" class="section level2">
<h2>3.2 Exploring Multiple Subsets</h2>
<p>When multiple maximal subsets exist, you can explore them:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(all_subsets<span class="sc">@</span>subset_list) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>  <span class="co"># Display first few subsets</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;First few maximal subsets:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_len</span>(<span class="fu">min</span>(<span class="dv">3</span>, <span class="fu">length</span>(all_subsets<span class="sc">@</span>subset_list)))) {</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Subset %d (avg corr = %.3f):</span><span class="sc">\n</span><span class="st">&quot;</span>, i, all_subsets<span class="sc">@</span>avg_corr[i]))</span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot; &quot;</span>, <span class="fu">paste</span>(all_subsets<span class="sc">@</span>subset_list[[i]], <span class="at">collapse =</span> <span class="st">&quot;, &quot;</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>  }</span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a>  <span class="co"># Analyze subset characteristics</span></span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a>  subset_sizes <span class="ot">&lt;-</span> <span class="fu">lengths</span>(all_subsets<span class="sc">@</span>subset_list)</span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Subset sizes:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">table</span>(subset_sizes))</span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Average correlations:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">summary</span>(all_subsets<span class="sc">@</span>avg_corr))</span>
<span id="cb16-16"><a href="#cb16-16" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb16-17"><a href="#cb16-17" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;No subsets found at threshold 0.9</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb16-18"><a href="#cb16-18" tabindex="-1"></a>}</span>
<span id="cb16-19"><a href="#cb16-19" tabindex="-1"></a><span class="co">#&gt; First few maximal subsets:</span></span>
<span id="cb16-20"><a href="#cb16-20" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb16-21"><a href="#cb16-21" tabindex="-1"></a><span class="co">#&gt; Subset 1 (avg corr = 0.527):</span></span>
<span id="cb16-22"><a href="#cb16-22" tabindex="-1"></a><span class="co">#&gt;   mpg, disp, hp, drat, wt, qsec, vs, am, gear, carb </span></span>
<span id="cb16-23"><a href="#cb16-23" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb16-24"><a href="#cb16-24" tabindex="-1"></a><span class="co">#&gt; Subset 2 (avg corr = 0.531):</span></span>
<span id="cb16-25"><a href="#cb16-25" tabindex="-1"></a><span class="co">#&gt;   mpg, cyl, hp, drat, wt, qsec, vs, am, gear, carb </span></span>
<span id="cb16-26"><a href="#cb16-26" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb16-27"><a href="#cb16-27" tabindex="-1"></a><span class="co">#&gt; Subset sizes:</span></span>
<span id="cb16-28"><a href="#cb16-28" tabindex="-1"></a><span class="co">#&gt; subset_sizes</span></span>
<span id="cb16-29"><a href="#cb16-29" tabindex="-1"></a><span class="co">#&gt; 10 </span></span>
<span id="cb16-30"><a href="#cb16-30" tabindex="-1"></a><span class="co">#&gt;  2 </span></span>
<span id="cb16-31"><a href="#cb16-31" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb16-32"><a href="#cb16-32" tabindex="-1"></a><span class="co">#&gt; Average correlations:</span></span>
<span id="cb16-33"><a href="#cb16-33" tabindex="-1"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb16-34"><a href="#cb16-34" tabindex="-1"></a><span class="co">#&gt;  0.5269  0.5280  0.5290  0.5290  0.5301  0.5311</span></span></code></pre></div>
</div>
<div id="extracting-specific-subsets" class="section level2">
<h2>3.3 Extracting Specific Subsets</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(all_subsets<span class="sc">@</span>subset_list) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>  <span class="co"># Extract subset with lowest average correlation</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>  best_idx <span class="ot">&lt;-</span> <span class="fu">which.min</span>(all_subsets<span class="sc">@</span>avg_corr)</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>  best_subset <span class="ot">&lt;-</span> <span class="fu">corrSubset</span>(all_subsets, mtcars, <span class="at">which =</span> best_idx)</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Best subset (lowest avg correlation):</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">names</span>(best_subset))</span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a>  <span class="co"># Extract subset with most predictors</span></span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a>  subset_sizes <span class="ot">&lt;-</span> <span class="fu">lengths</span>(all_subsets<span class="sc">@</span>subset_list)</span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a>  largest_idx <span class="ot">&lt;-</span> <span class="fu">which.max</span>(subset_sizes)</span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a>  largest_subset <span class="ot">&lt;-</span> <span class="fu">corrSubset</span>(all_subsets, mtcars, <span class="at">which =</span> largest_idx)</span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Largest subset:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">names</span>(largest_subset))</span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb17-17"><a href="#cb17-17" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;No subsets to extract at threshold 0.9</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb17-18"><a href="#cb17-18" tabindex="-1"></a>}</span>
<span id="cb17-19"><a href="#cb17-19" tabindex="-1"></a><span class="co">#&gt; Best subset (lowest avg correlation):</span></span>
<span id="cb17-20"><a href="#cb17-20" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;mpg&quot;  &quot;disp&quot; &quot;hp&quot;   &quot;drat&quot; &quot;wt&quot;   &quot;qsec&quot; &quot;vs&quot;   &quot;am&quot;   &quot;gear&quot; &quot;carb&quot;</span></span>
<span id="cb17-21"><a href="#cb17-21" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb17-22"><a href="#cb17-22" tabindex="-1"></a><span class="co">#&gt; Largest subset:</span></span>
<span id="cb17-23"><a href="#cb17-23" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;mpg&quot;  &quot;disp&quot; &quot;hp&quot;   &quot;drat&quot; &quot;wt&quot;   &quot;qsec&quot; &quot;vs&quot;   &quot;am&quot;   &quot;gear&quot; &quot;carb&quot;</span></span></code></pre></div>
</div>
<div id="advanced-domain-specific-subset-selection" class="section level2">
<h2>3.4 Advanced: Domain-Specific Subset Selection</h2>
<p>You can define custom criteria for choosing among multiple
subsets:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(all_subsets<span class="sc">@</span>subset_list) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>  <span class="co"># Custom criterion: Prefer subsets with specific variables</span></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>  preferred_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;hp&quot;</span>, <span class="st">&quot;wt&quot;</span>)</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>  <span class="co"># Compute score: number of preferred variables in each subset</span></span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>  scores <span class="ot">&lt;-</span> <span class="fu">sapply</span>(all_subsets<span class="sc">@</span>subset_list, <span class="cf">function</span>(vars) {</span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a>    <span class="fu">sum</span>(preferred_vars <span class="sc">%in%</span> vars)</span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>  })</span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a>  <span class="co"># Select subset with most preferred variables</span></span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a>  best_idx <span class="ot">&lt;-</span> <span class="fu">which.max</span>(scores)</span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Subset with most preferred variables (score:&quot;</span>, scores[best_idx], <span class="st">&quot;):</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste</span>(all_subsets<span class="sc">@</span>subset_list[[best_idx]], <span class="at">collapse =</span> <span class="st">&quot;, &quot;</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb18-14"><a href="#cb18-14" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" tabindex="-1"></a>  <span class="co"># Extract as data frame</span></span>
<span id="cb18-16"><a href="#cb18-16" tabindex="-1"></a>  preferred_subset <span class="ot">&lt;-</span> <span class="fu">corrSubset</span>(all_subsets, mtcars, <span class="at">which =</span> best_idx)</span>
<span id="cb18-17"><a href="#cb18-17" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">head</span>(preferred_subset))</span>
<span id="cb18-18"><a href="#cb18-18" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb18-19"><a href="#cb18-19" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;No subsets available for custom selection</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb18-20"><a href="#cb18-20" tabindex="-1"></a>}</span>
<span id="cb18-21"><a href="#cb18-21" tabindex="-1"></a><span class="co">#&gt; Subset with most preferred variables (score: 3 ):</span></span>
<span id="cb18-22"><a href="#cb18-22" tabindex="-1"></a><span class="co">#&gt; mpg, disp, hp, drat, wt, qsec, vs, am, gear, carb </span></span>
<span id="cb18-23"><a href="#cb18-23" tabindex="-1"></a><span class="co">#&gt;                    mpg disp  hp drat    wt  qsec vs am gear carb</span></span>
<span id="cb18-24"><a href="#cb18-24" tabindex="-1"></a><span class="co">#&gt; Mazda RX4         21.0  160 110 3.90 2.620 16.46  0  1    4    4</span></span>
<span id="cb18-25"><a href="#cb18-25" tabindex="-1"></a><span class="co">#&gt; Mazda RX4 Wag     21.0  160 110 3.90 2.875 17.02  0  1    4    4</span></span>
<span id="cb18-26"><a href="#cb18-26" tabindex="-1"></a><span class="co">#&gt; Datsun 710        22.8  108  93 3.85 2.320 18.61  1  1    4    1</span></span>
<span id="cb18-27"><a href="#cb18-27" tabindex="-1"></a><span class="co">#&gt; Hornet 4 Drive    21.4  258 110 3.08 3.215 19.44  1  0    3    1</span></span>
<span id="cb18-28"><a href="#cb18-28" tabindex="-1"></a><span class="co">#&gt; Hornet Sportabout 18.7  360 175 3.15 3.440 17.02  0  0    3    2</span></span>
<span id="cb18-29"><a href="#cb18-29" tabindex="-1"></a><span class="co">#&gt; Valiant           18.1  225 105 2.76 3.460 20.22  1  0    3    1</span></span></code></pre></div>
<hr />
</div>
</div>
<div id="performance-optimization" class="section level1">
<h1>4. Performance Optimization</h1>
<div id="precomputed-correlation-matrices" class="section level2">
<h2>4.1 Precomputed Correlation Matrices</h2>
<p>For repeated pruning with different thresholds, precompute the
correlation matrix:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># Create larger dataset for meaningful timing comparison</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>large_data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="dv">100</span> <span class="sc">*</span> <span class="dv">50</span>), <span class="at">ncol =</span> <span class="dv">50</span>))</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="co"># Benchmark: Recompute correlation every time</span></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>time1 <span class="ot">&lt;-</span> <span class="fu">median</span>(<span class="fu">microbenchmark</span>(</span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a>  {</span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a>    result1 <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(large_data, <span class="at">threshold =</span> <span class="fl">0.7</span>)</span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a>    result2 <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(large_data, <span class="at">threshold =</span> <span class="fl">0.8</span>)</span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a>    result3 <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(large_data, <span class="at">threshold =</span> <span class="fl">0.9</span>)</span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a>  },</span>
<span id="cb19-12"><a href="#cb19-12" tabindex="-1"></a>  <span class="at">times =</span> <span class="dv">3</span>,</span>
<span id="cb19-13"><a href="#cb19-13" tabindex="-1"></a>  <span class="at">unit =</span> <span class="st">&quot;ms&quot;</span></span>
<span id="cb19-14"><a href="#cb19-14" tabindex="-1"></a>)<span class="sc">$</span>time) <span class="sc">/</span> <span class="fl">1e6</span>  <span class="co"># Convert nanoseconds to milliseconds</span></span>
<span id="cb19-15"><a href="#cb19-15" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" tabindex="-1"></a><span class="co"># Benchmark: Compute correlation once, reuse</span></span>
<span id="cb19-17"><a href="#cb19-17" tabindex="-1"></a>cor_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(large_data)</span>
<span id="cb19-18"><a href="#cb19-18" tabindex="-1"></a>time2 <span class="ot">&lt;-</span> <span class="fu">median</span>(<span class="fu">microbenchmark</span>(</span>
<span id="cb19-19"><a href="#cb19-19" tabindex="-1"></a>  {</span>
<span id="cb19-20"><a href="#cb19-20" tabindex="-1"></a>    result1 <span class="ot">&lt;-</span> <span class="fu">MatSelect</span>(cor_matrix, <span class="at">threshold =</span> <span class="fl">0.7</span>)</span>
<span id="cb19-21"><a href="#cb19-21" tabindex="-1"></a>    result2 <span class="ot">&lt;-</span> <span class="fu">MatSelect</span>(cor_matrix, <span class="at">threshold =</span> <span class="fl">0.8</span>)</span>
<span id="cb19-22"><a href="#cb19-22" tabindex="-1"></a>    result3 <span class="ot">&lt;-</span> <span class="fu">MatSelect</span>(cor_matrix, <span class="at">threshold =</span> <span class="fl">0.9</span>)</span>
<span id="cb19-23"><a href="#cb19-23" tabindex="-1"></a>  },</span>
<span id="cb19-24"><a href="#cb19-24" tabindex="-1"></a>  <span class="at">times =</span> <span class="dv">3</span>,</span>
<span id="cb19-25"><a href="#cb19-25" tabindex="-1"></a>  <span class="at">unit =</span> <span class="st">&quot;ms&quot;</span></span>
<span id="cb19-26"><a href="#cb19-26" tabindex="-1"></a>)<span class="sc">$</span>time) <span class="sc">/</span> <span class="fl">1e6</span>  <span class="co"># Convert nanoseconds to milliseconds</span></span>
<span id="cb19-27"><a href="#cb19-27" tabindex="-1"></a></span>
<span id="cb19-28"><a href="#cb19-28" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Recomputing each time: %.1f ms</span><span class="sc">\n</span><span class="st">&quot;</span>, time1))</span>
<span id="cb19-29"><a href="#cb19-29" tabindex="-1"></a><span class="co">#&gt; Recomputing each time: 2.7 ms</span></span>
<span id="cb19-30"><a href="#cb19-30" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Precomputed matrix: %.1f ms</span><span class="sc">\n</span><span class="st">&quot;</span>, time2))</span>
<span id="cb19-31"><a href="#cb19-31" tabindex="-1"></a><span class="co">#&gt; Precomputed matrix: 0.7 ms</span></span>
<span id="cb19-32"><a href="#cb19-32" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">&quot;Speedup: %.1fx faster</span><span class="sc">\n</span><span class="st">&quot;</span>, time1 <span class="sc">/</span> time2))</span>
<span id="cb19-33"><a href="#cb19-33" tabindex="-1"></a><span class="co">#&gt; Speedup: 3.8x faster</span></span></code></pre></div>
<p><strong>Use precomputed matrices when</strong>:</p>
<ul>
<li>Testing multiple thresholds</li>
<li>Cross-validation workflows</li>
<li>Sensitivity analysis</li>
</ul>
</div>
<div id="memory-considerations-for-large-data" class="section level2">
<h2>4.2 Memory Considerations for Large Data</h2>
<p>For large datasets (n &gt; 10,000, p &gt; 500):</p>
<div id="memory-efficient-correlation-computation" class="section level3">
<h3>Memory-Efficient Correlation Computation</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="co"># Standard (memory-intensive for large n)</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>cor_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(large_data)</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="co"># Memory-efficient alternative (for very large n)</span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="co"># Process in chunks if needed</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a>compute_cor_chunked <span class="ot">&lt;-</span> <span class="cf">function</span>(data, <span class="at">chunk_size =</span> <span class="dv">1000</span>) {</span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(data)</span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a>  n_chunks <span class="ot">&lt;-</span> <span class="fu">ceiling</span>(n <span class="sc">/</span> chunk_size)</span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a>  <span class="co"># Use online algorithm or chunked computation</span></span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a>  <span class="co"># (Implementation depends on your data size)</span></span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="sparse-correlation-matrices" class="section level3">
<h3>Sparse Correlation Matrices</h3>
<p>If most correlations are low, consider sparse storage:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="co"># Convert to sparse format (requires Matrix package)</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="fu">library</span>(Matrix)</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a><span class="co"># Compute correlation</span></span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a>cor_mat <span class="ot">&lt;-</span> <span class="fu">cor</span>(data)</span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a><span class="co"># Threshold and convert to sparse</span></span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a>cor_sparse <span class="ot">&lt;-</span> cor_mat</span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a>cor_sparse[<span class="fu">abs</span>(cor_sparse) <span class="sc">&lt;</span> <span class="fl">0.3</span>] <span class="ot">&lt;-</span> <span class="dv">0</span>  <span class="co"># Set low correlations to 0</span></span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a>cor_sparse <span class="ot">&lt;-</span> <span class="fu">Matrix</span>(cor_sparse, <span class="at">sparse =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-11"><a href="#cb21-11" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" tabindex="-1"></a><span class="co"># Memory savings</span></span>
<span id="cb21-13"><a href="#cb21-13" tabindex="-1"></a><span class="fu">object.size</span>(cor_mat)</span>
<span id="cb21-14"><a href="#cb21-14" tabindex="-1"></a><span class="fu">object.size</span>(cor_sparse)</span></code></pre></div>
</div>
</div>
<div id="parallel-processing-strategies" class="section level2">
<h2>4.3 Parallel Processing Strategies</h2>
<p>For multiple independent pruning operations:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="fu">library</span>(parallel)</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="co"># Create cluster</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>cl <span class="ot">&lt;-</span> <span class="fu">makeCluster</span>(<span class="fu">detectCores</span>() <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a><span class="co"># Export functions to cluster</span></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a><span class="fu">clusterEvalQ</span>(cl, <span class="fu">library</span>(corrselect))</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a><span class="co"># Parallel pruning with different thresholds</span></span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a>thresholds <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.5</span>, <span class="fl">0.9</span>, <span class="at">by =</span> <span class="fl">0.1</span>)</span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">parLapply</span>(cl, thresholds, <span class="cf">function</span>(thresh) {</span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a>  <span class="fu">corrPrune</span>(my_data, <span class="at">threshold =</span> thresh)</span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a>})</span>
<span id="cb22-14"><a href="#cb22-14" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" tabindex="-1"></a><span class="co"># Clean up</span></span>
<span id="cb22-16"><a href="#cb22-16" tabindex="-1"></a><span class="fu">stopCluster</span>(cl)</span></code></pre></div>
<p><strong>Note</strong>: corrselect itself doesn’t parallelize
internally (for reproducibility), but you can parallelize
<strong>across</strong> multiple analyses.</p>
</div>
<div id="choosing-the-right-mode" class="section level2">
<h2>4.4 Choosing the Right Mode</h2>
<p>Decision tree for mode selection:</p>
<pre><code>p ≤ 15:  Use &quot;exact&quot; (fast enough, guaranteed optimal)
15 &lt; p ≤ 25:  Use &quot;exact&quot; if time permits, &quot;greedy&quot; if speed critical
p &gt; 25:  Use &quot;greedy&quot; or &quot;auto&quot;
p &gt; 100: Always use &quot;greedy&quot;</code></pre>
<hr />
</div>
</div>
<div id="troubleshooting" class="section level1">
<h1>5. Troubleshooting</h1>
<div id="common-errors-and-solutions" class="section level2">
<h2>5.1 Common Errors and Solutions</h2>
<div id="error-no-valid-subsets-found" class="section level3">
<h3>Error: “No valid subsets found”</h3>
<p><strong>Cause</strong>: Threshold too strict - all variables exceed
it</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="co"># Example: All correlations &gt; 0.9</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>high_cor_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a>  <span class="at">x1 =</span> x,</span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a>  <span class="at">x2 =</span> x <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">sd =</span> <span class="fl">0.01</span>),</span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a>  <span class="at">x3 =</span> x <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">sd =</span> <span class="fl">0.01</span>)</span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a>)</span>
<span id="cb24-9"><a href="#cb24-9" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" tabindex="-1"></a><span class="fu">tryCatch</span>({</span>
<span id="cb24-11"><a href="#cb24-11" tabindex="-1"></a>  <span class="fu">corrPrune</span>(high_cor_data, <span class="at">threshold =</span> <span class="fl">0.5</span>)</span>
<span id="cb24-12"><a href="#cb24-12" tabindex="-1"></a>}, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb24-13"><a href="#cb24-13" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Error:&quot;</span>, e<span class="sc">$</span>message, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb24-14"><a href="#cb24-14" tabindex="-1"></a>})</span>
<span id="cb24-15"><a href="#cb24-15" tabindex="-1"></a><span class="co">#&gt; Error: No valid subsets found that satisfy the threshold constraint</span></span></code></pre></div>
<p><strong>Solutions</strong>: 1. Increase threshold 2. Use
<code>force_in</code> to keep at least one variable 3. Check data for
near-duplicates</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co"># Solution 1: Increase threshold</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(high_cor_data, <span class="at">threshold =</span> <span class="fl">0.95</span>)</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a><span class="co">#&gt; Error in corrPrune(high_cor_data, threshold = 0.95): No valid subsets found that satisfy the threshold constraint</span></span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">names</span>(result))</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a><span class="co">#&gt; [1] &quot;x1&quot; &quot;x2&quot; &quot;x3&quot;</span></span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a><span class="co"># Solution 2: Force keep one variable</span></span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(high_cor_data, <span class="at">threshold =</span> <span class="fl">0.5</span>, <span class="at">force_in =</span> <span class="st">&quot;x1&quot;</span>)</span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a><span class="co">#&gt; Error in corrPrune(high_cor_data, threshold = 0.5, force_in = &quot;x1&quot;): No valid subsets found that satisfy the threshold constraint</span></span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">names</span>(result))</span>
<span id="cb25-11"><a href="#cb25-11" tabindex="-1"></a><span class="co">#&gt; [1] &quot;x1&quot; &quot;x2&quot; &quot;x3&quot;</span></span></code></pre></div>
</div>
<div id="error-force_in-variables-conflict-with-threshold" class="section level3">
<h3>Error: force_in variables conflict with threshold</h3>
<p><strong>Cause</strong>: Variables in <code>force_in</code> have
|correlation| &gt; threshold</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="co"># x1 and x2 are highly correlated</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a><span class="fu">tryCatch</span>({</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>  <span class="fu">corrPrune</span>(high_cor_data, <span class="at">threshold =</span> <span class="fl">0.5</span>, <span class="at">force_in =</span> <span class="fu">c</span>(<span class="st">&quot;x1&quot;</span>, <span class="st">&quot;x2&quot;</span>))</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>}, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Error:&quot;</span>, e<span class="sc">$</span>message, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a>})</span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a><span class="co">#&gt; Error: Variables in &#39;force_in&#39; violate the threshold constraint. Example: &#39;x1&#39; and &#39;x2&#39; have association 1.000 &gt; 0.500</span></span></code></pre></div>
<p><strong>Solution</strong>: Either increase threshold or reduce
<code>force_in</code> set</p>
</div>
<div id="error-vif-computation-fails-in-modelprune" class="section level3">
<h3>Error: VIF computation fails in modelPrune()</h3>
<p><strong>Cause</strong>: Perfect multicollinearity (R² = 1)</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="co"># Create perfect multicollinearity</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>perfect_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a>  <span class="at">x1 =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a>  <span class="at">x2 =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a>)</span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a>perfect_data<span class="sc">$</span>x3 <span class="ot">&lt;-</span> perfect_data<span class="sc">$</span>x1 <span class="sc">+</span> perfect_data<span class="sc">$</span>x2  <span class="co"># Perfect collinearity</span></span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a><span class="fu">tryCatch</span>({</span>
<span id="cb27-10"><a href="#cb27-10" tabindex="-1"></a>  <span class="fu">modelPrune</span>(y <span class="sc">~</span> ., <span class="at">data =</span> perfect_data, <span class="at">limit =</span> <span class="dv">5</span>)</span>
<span id="cb27-11"><a href="#cb27-11" tabindex="-1"></a>}, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb27-12"><a href="#cb27-12" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Error:&quot;</span>, e<span class="sc">$</span>message, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb27-13"><a href="#cb27-13" tabindex="-1"></a>})</span>
<span id="cb27-14"><a href="#cb27-14" tabindex="-1"></a><span class="co">#&gt; Warning in summary.lm(fit): essentially perfect fit: summary may be unreliable</span></span>
<span id="cb27-15"><a href="#cb27-15" tabindex="-1"></a><span class="co">#&gt; Warning in summary.lm(fit): essentially perfect fit: summary may be unreliable</span></span>
<span id="cb27-16"><a href="#cb27-16" tabindex="-1"></a><span class="co">#&gt; Warning in summary.lm(fit): essentially perfect fit: summary may be unreliable</span></span>
<span id="cb27-17"><a href="#cb27-17" tabindex="-1"></a><span class="co">#&gt;               y          x1          x2</span></span>
<span id="cb27-18"><a href="#cb27-18" tabindex="-1"></a><span class="co">#&gt; 1   -0.71524219 -0.07355602 -0.60189285</span></span>
<span id="cb27-19"><a href="#cb27-19" tabindex="-1"></a><span class="co">#&gt; 2   -0.75268897 -1.16865142 -0.99369859</span></span>
<span id="cb27-20"><a href="#cb27-20" tabindex="-1"></a><span class="co">#&gt; 3   -0.93853870 -0.63474826  1.02678506</span></span>
<span id="cb27-21"><a href="#cb27-21" tabindex="-1"></a><span class="co">#&gt; 4   -1.05251328 -0.02884155  0.75106130</span></span>
<span id="cb27-22"><a href="#cb27-22" tabindex="-1"></a><span class="co">#&gt; 5   -0.43715953  0.67069597 -1.50916654</span></span>
<span id="cb27-23"><a href="#cb27-23" tabindex="-1"></a><span class="co">#&gt; 6    0.33117917 -1.65054654 -0.09514745</span></span>
<span id="cb27-24"><a href="#cb27-24" tabindex="-1"></a><span class="co">#&gt; 7   -2.01421050 -0.34975424 -0.89594782</span></span>
<span id="cb27-25"><a href="#cb27-25" tabindex="-1"></a><span class="co">#&gt; 8    0.21198043  0.75640644 -2.07075107</span></span>
<span id="cb27-26"><a href="#cb27-26" tabindex="-1"></a><span class="co">#&gt; 9    1.23667505 -0.53880916  0.15012013</span></span>
<span id="cb27-27"><a href="#cb27-27" tabindex="-1"></a><span class="co">#&gt; 10   2.03757402  0.22729192 -0.07921171</span></span>
<span id="cb27-28"><a href="#cb27-28" tabindex="-1"></a><span class="co">#&gt; 11   1.30117599  0.49222857 -0.09736927</span></span>
<span id="cb27-29"><a href="#cb27-29" tabindex="-1"></a><span class="co">#&gt; 12   0.75677476  0.26783502  0.21615254</span></span>
<span id="cb27-30"><a href="#cb27-30" tabindex="-1"></a><span class="co">#&gt; 13  -1.72673040  0.65325768  0.88246516</span></span>
<span id="cb27-31"><a href="#cb27-31" tabindex="-1"></a><span class="co">#&gt; 14  -0.60150671 -0.12270866  0.20559750</span></span>
<span id="cb27-32"><a href="#cb27-32" tabindex="-1"></a><span class="co">#&gt; 15  -0.35204646 -0.41367651 -0.61643584</span></span>
<span id="cb27-33"><a href="#cb27-33" tabindex="-1"></a><span class="co">#&gt; 16   0.70352390 -2.64314895 -0.73479925</span></span>
<span id="cb27-34"><a href="#cb27-34" tabindex="-1"></a><span class="co">#&gt; 17  -0.10567133 -0.09294102 -0.13180279</span></span>
<span id="cb27-35"><a href="#cb27-35" tabindex="-1"></a><span class="co">#&gt; 18  -1.25864863  0.43028470  0.31001699</span></span>
<span id="cb27-36"><a href="#cb27-36" tabindex="-1"></a><span class="co">#&gt; 19   1.68443571  0.53539884 -1.03968035</span></span>
<span id="cb27-37"><a href="#cb27-37" tabindex="-1"></a><span class="co">#&gt; 20   0.91139129 -0.55527835 -0.18430887</span></span>
<span id="cb27-38"><a href="#cb27-38" tabindex="-1"></a><span class="co">#&gt; 21   0.23743027  1.77950291  0.96726726</span></span>
<span id="cb27-39"><a href="#cb27-39" tabindex="-1"></a><span class="co">#&gt; 22   1.21810861  0.28642442 -0.10828009</span></span>
<span id="cb27-40"><a href="#cb27-40" tabindex="-1"></a><span class="co">#&gt; 23  -1.33877429  0.12631586 -0.69842067</span></span>
<span id="cb27-41"><a href="#cb27-41" tabindex="-1"></a><span class="co">#&gt; 24   0.66082030  1.27226678 -0.27594517</span></span>
<span id="cb27-42"><a href="#cb27-42" tabindex="-1"></a><span class="co">#&gt; 25  -0.52291238 -0.71846622  1.11464855</span></span>
<span id="cb27-43"><a href="#cb27-43" tabindex="-1"></a><span class="co">#&gt; 26   0.68374552 -0.45033862  0.55004396</span></span>
<span id="cb27-44"><a href="#cb27-44" tabindex="-1"></a><span class="co">#&gt; 27  -0.06082195  2.39745248  1.23667580</span></span>
<span id="cb27-45"><a href="#cb27-45" tabindex="-1"></a><span class="co">#&gt; 28   0.63296071  0.01112919  0.13909786</span></span>
<span id="cb27-46"><a href="#cb27-46" tabindex="-1"></a><span class="co">#&gt; 29   1.33551762  1.63356842  0.41027510</span></span>
<span id="cb27-47"><a href="#cb27-47" tabindex="-1"></a><span class="co">#&gt; 30   0.00729009 -1.43850664 -0.55845691</span></span>
<span id="cb27-48"><a href="#cb27-48" tabindex="-1"></a><span class="co">#&gt; 31   1.01755864 -0.19051680  0.60537067</span></span>
<span id="cb27-49"><a href="#cb27-49" tabindex="-1"></a><span class="co">#&gt; 32  -1.18843404  0.37842390 -0.50633354</span></span>
<span id="cb27-50"><a href="#cb27-50" tabindex="-1"></a><span class="co">#&gt; 33  -0.72160444  0.30003855 -1.42056550</span></span>
<span id="cb27-51"><a href="#cb27-51" tabindex="-1"></a><span class="co">#&gt; 34   1.51921771 -1.00563626  0.12799297</span></span>
<span id="cb27-52"><a href="#cb27-52" tabindex="-1"></a><span class="co">#&gt; 35   0.37738797  0.01925927  1.94585122</span></span>
<span id="cb27-53"><a href="#cb27-53" tabindex="-1"></a><span class="co">#&gt; 36  -2.05222282 -1.07742065  0.80091434</span></span>
<span id="cb27-54"><a href="#cb27-54" tabindex="-1"></a><span class="co">#&gt; 37  -1.36403745  0.71270333  1.16525339</span></span>
<span id="cb27-55"><a href="#cb27-55" tabindex="-1"></a><span class="co">#&gt; 38  -0.20078102  1.08477509  0.35885572</span></span>
<span id="cb27-56"><a href="#cb27-56" tabindex="-1"></a><span class="co">#&gt; 39   0.86577940 -2.22498770 -0.60855718</span></span>
<span id="cb27-57"><a href="#cb27-57" tabindex="-1"></a><span class="co">#&gt; 40  -0.10188326  1.23569346 -0.20224086</span></span>
<span id="cb27-58"><a href="#cb27-58" tabindex="-1"></a><span class="co">#&gt; 41   0.62418747 -1.24104450 -0.27324811</span></span>
<span id="cb27-59"><a href="#cb27-59" tabindex="-1"></a><span class="co">#&gt; 42   0.95900538  0.45476927 -0.46869978</span></span>
<span id="cb27-60"><a href="#cb27-60" tabindex="-1"></a><span class="co">#&gt; 43   1.67105483  0.65990264  0.70416728</span></span>
<span id="cb27-61"><a href="#cb27-61" tabindex="-1"></a><span class="co">#&gt; 44   0.05601673 -0.19988983 -1.19736350</span></span>
<span id="cb27-62"><a href="#cb27-62" tabindex="-1"></a><span class="co">#&gt; 45  -0.05198191 -0.64511396  0.86636613</span></span>
<span id="cb27-63"><a href="#cb27-63" tabindex="-1"></a><span class="co">#&gt; 46  -1.75323736  0.16532102  0.86415249</span></span>
<span id="cb27-64"><a href="#cb27-64" tabindex="-1"></a><span class="co">#&gt; 47   0.09932759  0.43881870 -1.19862236</span></span>
<span id="cb27-65"><a href="#cb27-65" tabindex="-1"></a><span class="co">#&gt; 48  -0.57185006  0.88330282  0.63949200</span></span>
<span id="cb27-66"><a href="#cb27-66" tabindex="-1"></a><span class="co">#&gt; 49  -0.97400958 -2.05233698  2.43022665</span></span>
<span id="cb27-67"><a href="#cb27-67" tabindex="-1"></a><span class="co">#&gt; 50  -0.17990623 -1.63637927 -0.55721548</span></span>
<span id="cb27-68"><a href="#cb27-68" tabindex="-1"></a><span class="co">#&gt; 51   1.01494317  1.43040234  0.84490424</span></span>
<span id="cb27-69"><a href="#cb27-69" tabindex="-1"></a><span class="co">#&gt; 52  -1.99274849  1.04662885 -0.78220185</span></span>
<span id="cb27-70"><a href="#cb27-70" tabindex="-1"></a><span class="co">#&gt; 53  -0.42727929  0.43528895  1.11071142</span></span>
<span id="cb27-71"><a href="#cb27-71" tabindex="-1"></a><span class="co">#&gt; 54   0.11663728  0.71517841  0.24982472</span></span>
<span id="cb27-72"><a href="#cb27-72" tabindex="-1"></a><span class="co">#&gt; 55  -0.89320757  0.91717492  1.65191539</span></span>
<span id="cb27-73"><a href="#cb27-73" tabindex="-1"></a><span class="co">#&gt; 56   0.33390294 -2.66092280 -1.45897073</span></span>
<span id="cb27-74"><a href="#cb27-74" tabindex="-1"></a><span class="co">#&gt; 57   0.41142992  1.11027710 -0.05129789</span></span>
<span id="cb27-75"><a href="#cb27-75" tabindex="-1"></a><span class="co">#&gt; 58  -0.03303616 -0.48498760 -0.52692518</span></span>
<span id="cb27-76"><a href="#cb27-76" tabindex="-1"></a><span class="co">#&gt; 59  -2.46589819  0.23061683 -0.19726487</span></span>
<span id="cb27-77"><a href="#cb27-77" tabindex="-1"></a><span class="co">#&gt; 60   2.57145815 -0.29515780 -0.62957874</span></span>
<span id="cb27-78"><a href="#cb27-78" tabindex="-1"></a><span class="co">#&gt; 61  -0.20529926  0.87196495 -0.83384358</span></span>
<span id="cb27-79"><a href="#cb27-79" tabindex="-1"></a><span class="co">#&gt; 62   0.65119328 -0.34847245  0.57872237</span></span>
<span id="cb27-80"><a href="#cb27-80" tabindex="-1"></a><span class="co">#&gt; 63   0.27376649  0.51850377 -1.08758071</span></span>
<span id="cb27-81"><a href="#cb27-81" tabindex="-1"></a><span class="co">#&gt; 64   1.02467323 -0.39068498  1.48403093</span></span>
<span id="cb27-82"><a href="#cb27-82" tabindex="-1"></a><span class="co">#&gt; 65   0.81765945 -1.09278721 -1.18620659</span></span>
<span id="cb27-83"><a href="#cb27-83" tabindex="-1"></a><span class="co">#&gt; 66  -0.20979317  1.21001051  0.10107915</span></span>
<span id="cb27-84"><a href="#cb27-84" tabindex="-1"></a><span class="co">#&gt; 67   0.37816777  0.74090001  0.53298929</span></span>
<span id="cb27-85"><a href="#cb27-85" tabindex="-1"></a><span class="co">#&gt; 68  -0.94540883  1.72426224  0.58673534</span></span>
<span id="cb27-86"><a href="#cb27-86" tabindex="-1"></a><span class="co">#&gt; 69   0.85692301  0.06515393 -0.30174666</span></span>
<span id="cb27-87"><a href="#cb27-87" tabindex="-1"></a><span class="co">#&gt; 70  -0.46103834  1.12500275  0.07950200</span></span>
<span id="cb27-88"><a href="#cb27-88" tabindex="-1"></a><span class="co">#&gt; 71   2.41677335  1.97541905  0.96126415</span></span>
<span id="cb27-89"><a href="#cb27-89" tabindex="-1"></a><span class="co">#&gt; 72  -1.65104890 -0.28148212 -1.45646592</span></span>
<span id="cb27-90"><a href="#cb27-90" tabindex="-1"></a><span class="co">#&gt; 73  -0.46398724 -1.32295111 -0.78173971</span></span>
<span id="cb27-91"><a href="#cb27-91" tabindex="-1"></a><span class="co">#&gt; 74   0.82537986 -0.23935157  0.32040231</span></span>
<span id="cb27-92"><a href="#cb27-92" tabindex="-1"></a><span class="co">#&gt; 75   0.51013255 -0.21404124 -0.44478198</span></span>
<span id="cb27-93"><a href="#cb27-93" tabindex="-1"></a><span class="co">#&gt; 76  -0.58948104  0.15168050  1.37000399</span></span>
<span id="cb27-94"><a href="#cb27-94" tabindex="-1"></a><span class="co">#&gt; 77  -0.99678074  1.71230498  0.67325386</span></span>
<span id="cb27-95"><a href="#cb27-95" tabindex="-1"></a><span class="co">#&gt; 78   0.14447570 -0.32614389  0.07216675</span></span>
<span id="cb27-96"><a href="#cb27-96" tabindex="-1"></a><span class="co">#&gt; 79  -0.01430741  0.37300466 -1.50775732</span></span>
<span id="cb27-97"><a href="#cb27-97" tabindex="-1"></a><span class="co">#&gt; 80  -1.79028124 -0.22768406  0.02610023</span></span>
<span id="cb27-98"><a href="#cb27-98" tabindex="-1"></a><span class="co">#&gt; 81   0.03455107  0.02045071 -0.31641587</span></span>
<span id="cb27-99"><a href="#cb27-99" tabindex="-1"></a><span class="co">#&gt; 82   0.19023032  0.31405766 -0.10234651</span></span>
<span id="cb27-100"><a href="#cb27-100" tabindex="-1"></a><span class="co">#&gt; 83   0.17472640  1.32821470 -1.18155923</span></span>
<span id="cb27-101"><a href="#cb27-101" tabindex="-1"></a><span class="co">#&gt; 84  -1.05501704  0.12131838  0.49865804</span></span>
<span id="cb27-102"><a href="#cb27-102" tabindex="-1"></a><span class="co">#&gt; 85   0.47613328  0.71284232 -1.03895644</span></span>
<span id="cb27-103"><a href="#cb27-103" tabindex="-1"></a><span class="co">#&gt; 86   1.37857014  0.77886003 -0.22622198</span></span>
<span id="cb27-104"><a href="#cb27-104" tabindex="-1"></a><span class="co">#&gt; 87   0.45623640  0.91477327  0.38142583</span></span>
<span id="cb27-105"><a href="#cb27-105" tabindex="-1"></a><span class="co">#&gt; 88  -1.13558847 -0.57439455 -0.78351579</span></span>
<span id="cb27-106"><a href="#cb27-106" tabindex="-1"></a><span class="co">#&gt; 89  -0.43564547  1.62688121  0.58299141</span></span>
<span id="cb27-107"><a href="#cb27-107" tabindex="-1"></a><span class="co">#&gt; 90   0.34610362 -0.38095674 -1.31651040</span></span>
<span id="cb27-108"><a href="#cb27-108" tabindex="-1"></a><span class="co">#&gt; 91  -0.64704563 -0.10578417 -2.80977468</span></span>
<span id="cb27-109"><a href="#cb27-109" tabindex="-1"></a><span class="co">#&gt; 92  -2.15764634  1.40405027  0.46496799</span></span>
<span id="cb27-110"><a href="#cb27-110" tabindex="-1"></a><span class="co">#&gt; 93   0.88425082  1.29408391  0.84053983</span></span>
<span id="cb27-111"><a href="#cb27-111" tabindex="-1"></a><span class="co">#&gt; 94  -0.82947761 -1.08999187 -0.28584542</span></span>
<span id="cb27-112"><a href="#cb27-112" tabindex="-1"></a><span class="co">#&gt; 95  -0.57356027 -0.87307100  0.50412625</span></span>
<span id="cb27-113"><a href="#cb27-113" tabindex="-1"></a><span class="co">#&gt; 96   1.50390061 -1.35807906 -1.15591653</span></span>
<span id="cb27-114"><a href="#cb27-114" tabindex="-1"></a><span class="co">#&gt; 97  -0.77414493  0.18184719 -0.12714861</span></span>
<span id="cb27-115"><a href="#cb27-115" tabindex="-1"></a><span class="co">#&gt; 98   0.84573154  0.16484087 -1.94151838</span></span>
<span id="cb27-116"><a href="#cb27-116" tabindex="-1"></a><span class="co">#&gt; 99  -1.26068288  0.36411469  1.18118089</span></span>
<span id="cb27-117"><a href="#cb27-117" tabindex="-1"></a><span class="co">#&gt; 100 -0.35454240  0.55215771  1.85991086</span></span></code></pre></div>
<p><strong>Solution</strong>: Use <code>corrPrune()</code> first to
remove perfect collinearity:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="co"># Two-step approach</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>step1 <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(perfect_data[, <span class="sc">-</span><span class="dv">1</span>], <span class="at">threshold =</span> <span class="fl">0.99</span>)</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>step2_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">y =</span> perfect_data<span class="sc">$</span>y, step1)</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">modelPrune</span>(y <span class="sc">~</span> ., <span class="at">data =</span> step2_data, <span class="at">limit =</span> <span class="dv">5</span>)</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="co">#&gt; Warning in summary.lm(fit): essentially perfect fit: summary may be unreliable</span></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a><span class="co">#&gt; Warning in summary.lm(fit): essentially perfect fit: summary may be unreliable</span></span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a><span class="co">#&gt; Warning in summary.lm(fit): essentially perfect fit: summary may be unreliable</span></span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">attr</span>(result, <span class="st">&quot;selected_vars&quot;</span>))</span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a><span class="co">#&gt; [1] &quot;x1&quot; &quot;x2&quot;</span></span></code></pre></div>
</div>
</div>
<div id="threshold-selection-guidance" class="section level2">
<h2>5.2 Threshold Selection Guidance</h2>
<div id="for-corrprune-correlation-threshold" class="section level3">
<h3>For corrPrune() (Correlation Threshold)</h3>
<p><strong>Conservative (strict)</strong>:</p>
<ul>
<li>threshold = 0.5: Very low redundancy, may lose information</li>
<li>Use when: Interpretability is critical, small sample size</li>
</ul>
<p><strong>Moderate (recommended)</strong>:</p>
<ul>
<li>threshold = 0.7: Balances redundancy and information retention</li>
<li>Use when: Standard regression, general analysis</li>
</ul>
<p><strong>Lenient</strong>:</p>
<ul>
<li>threshold = 0.9: Only removes near-duplicates</li>
<li>Use when: Large sample size, prediction focus</li>
</ul>
</div>
<div id="for-modelprune-vif-limit" class="section level3">
<h3>For modelPrune() (VIF Limit)</h3>
<p><strong>Strict</strong>:</p>
<ul>
<li>limit = 2: Very low multicollinearity, may over-prune</li>
<li>Use when: Small sample size, interpretability critical</li>
</ul>
<p><strong>Moderate (recommended)</strong>:</p>
<ul>
<li>limit = 5: Standard threshold in literature</li>
<li>Use when: General regression analysis</li>
</ul>
<p><strong>Lenient</strong>:</p>
<ul>
<li>limit = 10: Tolerates more multicollinearity</li>
<li>Use when: Large sample size, prediction focus</li>
</ul>
</div>
<div id="empirical-approach-visualize-first" class="section level3">
<h3>Empirical Approach: Visualize First</h3>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a><span class="co"># Visualize correlation distribution</span></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a>cor_mat <span class="ot">&lt;-</span> <span class="fu">cor</span>(mtcars)</span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a>cor_vec <span class="ot">&lt;-</span> cor_mat[<span class="fu">upper.tri</span>(cor_mat)]</span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb29-8"><a href="#cb29-8" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" tabindex="-1"></a><span class="co"># Histogram of correlations</span></span>
<span id="cb29-10"><a href="#cb29-10" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">abs</span>(cor_vec), <span class="at">breaks =</span> <span class="dv">30</span>,</span>
<span id="cb29-11"><a href="#cb29-11" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Distribution of |Correlations|&quot;</span>,</span>
<span id="cb29-12"><a href="#cb29-12" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;|Correlation|&quot;</span>,</span>
<span id="cb29-13"><a href="#cb29-13" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;lightblue&quot;</span>)</span>
<span id="cb29-14"><a href="#cb29-14" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="fl">0.7</span>, <span class="fl">0.9</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>), <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb29-15"><a href="#cb29-15" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>,</span>
<span id="cb29-16"><a href="#cb29-16" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;0.5 (strict)&quot;</span>, <span class="st">&quot;0.7 (moderate)&quot;</span>, <span class="st">&quot;0.9 (lenient)&quot;</span>),</span>
<span id="cb29-17"><a href="#cb29-17" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>), <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>,</span>
<span id="cb29-18"><a href="#cb29-18" tabindex="-1"></a>       <span class="at">bty =</span> <span class="st">&quot;o&quot;</span>, <span class="at">bg =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb29-19"><a href="#cb29-19" tabindex="-1"></a></span>
<span id="cb29-20"><a href="#cb29-20" tabindex="-1"></a><span class="co"># Subset size vs threshold</span></span>
<span id="cb29-21"><a href="#cb29-21" tabindex="-1"></a>thresholds <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.3</span>, <span class="fl">0.95</span>, <span class="at">by =</span> <span class="fl">0.05</span>)</span>
<span id="cb29-22"><a href="#cb29-22" tabindex="-1"></a>sizes <span class="ot">&lt;-</span> <span class="fu">sapply</span>(thresholds, <span class="cf">function</span>(t) {</span>
<span id="cb29-23"><a href="#cb29-23" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb29-24"><a href="#cb29-24" tabindex="-1"></a>    <span class="fu">ncol</span>(<span class="fu">corrPrune</span>(mtcars, <span class="at">threshold =</span> t))</span>
<span id="cb29-25"><a href="#cb29-25" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) <span class="cn">NA</span>)</span>
<span id="cb29-26"><a href="#cb29-26" tabindex="-1"></a>})</span>
<span id="cb29-27"><a href="#cb29-27" tabindex="-1"></a></span>
<span id="cb29-28"><a href="#cb29-28" tabindex="-1"></a><span class="fu">plot</span>(thresholds, sizes, <span class="at">type =</span> <span class="st">&quot;b&quot;</span>,</span>
<span id="cb29-29"><a href="#cb29-29" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Threshold&quot;</span>,</span>
<span id="cb29-30"><a href="#cb29-30" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Number of Variables Retained&quot;</span>,</span>
<span id="cb29-31"><a href="#cb29-31" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Threshold Sensitivity&quot;</span>,</span>
<span id="cb29-32"><a href="#cb29-32" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb29-33"><a href="#cb29-33" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">ncol</span>(mtcars), <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">&quot;gray&quot;</span>)</span>
<span id="cb29-34"><a href="#cb29-34" tabindex="-1"></a><span class="fu">text</span>(<span class="fl">0.3</span>, <span class="fu">ncol</span>(mtcars), <span class="st">&quot;Original&quot;</span>, <span class="at">pos =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img role="img" aria-label="Two side-by-side plots for threshold selection guidance. Left panel: histogram of absolute correlations in mtcars showing distribution with vertical lines marking strict (0.5, red), moderate (0.7, blue), and lenient (0.9, green) thresholds. Right panel: line plot showing number of variables retained versus threshold, demonstrating sensitivity analysis with plateau beginning around 0.7, helping identify optimal threshold for balancing redundancy reduction and information retention." src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnID8+CjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgd2lkdGg9JzcyMC4wMHB0JyBoZWlnaHQ9JzI4OC4wMHB0JyB2aWV3Qm94PScwIDAgNzIwLjAwIDI4OC4wMCc+CjxnIGNsYXNzPSdzdmdsaXRlJz4KPGRlZnM+CiAgPHN0eWxlIHR5cGU9J3RleHQvY3NzJz48IVtDREFUQVsKICAgIC5zdmdsaXRlIGxpbmUsIC5zdmdsaXRlIHBvbHlsaW5lLCAuc3ZnbGl0ZSBwb2x5Z29uLCAuc3ZnbGl0ZSBwYXRoLCAuc3ZnbGl0ZSByZWN0LCAuc3ZnbGl0ZSBjaXJjbGUgewogICAgICBmaWxsOiBub25lOwogICAgICBzdHJva2U6ICMwMDAwMDA7CiAgICAgIHN0cm9rZS1saW5lY2FwOiByb3VuZDsKICAgICAgc3Ryb2tlLWxpbmVqb2luOiByb3VuZDsKICAgICAgc3Ryb2tlLW1pdGVybGltaXQ6IDEwLjAwOwogICAgfQogICAgLnN2Z2xpdGUgdGV4dCB7CiAgICAgIHdoaXRlLXNwYWNlOiBwcmU7CiAgICB9CiAgICAuc3ZnbGl0ZSBnLmdseXBoZ3JvdXAgcGF0aCB7CiAgICAgIGZpbGw6IGluaGVyaXQ7CiAgICAgIHN0cm9rZTogbm9uZTsKICAgIH0KICBdXT48L3N0eWxlPgo8L2RlZnM+CjxyZWN0IHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnIHN0eWxlPSdzdHJva2U6IG5vbmU7IGZpbGw6ICNGRkZGRkY7Jy8+CjxkZWZzPgogIDxjbGlwUGF0aCBpZD0nY3BNQzR3TUh3M01qQXVNREI4TUM0d01Id3lPRGd1TURBPSc+CiAgICA8cmVjdCB4PScwLjAwJyB5PScwLjAwJyB3aWR0aD0nNzIwLjAwJyBoZWlnaHQ9JzI4OC4wMCcgLz4KICA8L2NsaXBQYXRoPgo8L2RlZnM+CjxnIGNsaXAtcGF0aD0ndXJsKCNjcE1DNHdNSHczTWpBdU1EQjhNQzR3TUh3eU9EZ3VNREE9KSc+CjwvZz4KPGRlZnM+CiAgPGNsaXBQYXRoIGlkPSdjcE1DNHdNSHd6TmpBdU1EQjhNQzR3TUh3eU9EZ3VNREE9Jz4KICAgIDxyZWN0IHg9JzAuMDAnIHk9JzAuMDAnIHdpZHRoPSczNjAuMDAnIGhlaWdodD0nMjg4LjAwJyAvPgogIDwvY2xpcFBhdGg+CjwvZGVmcz4KPGcgY2xpcC1wYXRoPSd1cmwoI2NwTUM0d01Id3pOakF1TURCOE1DNHdNSHd5T0RndU1EQT0pJz4KPHRleHQgeD0nMTk0LjQwJyB5PSczNC42NycgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTQuNDBweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nMTk1LjE5cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+RGlzdHJpYnV0aW9uIG9mIHxDb3JyZWxhdGlvbnN8PC90ZXh0Pgo8dGV4dCB4PScxOTQuNDAnIHk9JzI2OS4yOCcgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSc2NC45NXB4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPnxDb3JyZWxhdGlvbnw8L3RleHQ+Cjx0ZXh0IHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEyLjk2LDEzNi44MCkgcm90YXRlKC05MCknIHRleHQtYW5jaG9yPSdtaWRkbGUnIHN0eWxlPSdmb250LXNpemU6IDEyLjAwcHg7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nNTYuNjlweCcgbGVuZ3RoQWRqdXN0PSdzcGFjaW5nQW5kR2x5cGhzJz5GcmVxdWVuY3k8L3RleHQ+CjwvZz4KPGcgY2xpcC1wYXRoPSd1cmwoI2NwTUM0d01IdzNNakF1TURCOE1DNHdNSHd5T0RndU1EQT0pJz4KPGxpbmUgeDE9JzExMC44NCcgeTE9JzIxNC41NicgeDI9JzI3Ny45NicgeTI9JzIxNC41Nicgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+CjxsaW5lIHgxPScxMTAuODQnIHkxPScyMTQuNTYnIHgyPScxMTAuODQnIHkyPScyMjEuNzYnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7JyAvPgo8bGluZSB4MT0nMTY2LjU1JyB5MT0nMjE0LjU2JyB4Mj0nMTY2LjU1JyB5Mj0nMjIxLjc2JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPGxpbmUgeDE9JzIyMi4yNScgeTE9JzIxNC41NicgeDI9JzIyMi4yNScgeTI9JzIyMS43Nicgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+CjxsaW5lIHgxPScyNzcuOTYnIHkxPScyMTQuNTYnIHgyPScyNzcuOTYnIHkyPScyMjEuNzYnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7JyAvPgo8dGV4dCB4PScxMTAuODQnIHk9JzI0MC40OCcgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPScxNi42N3B4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjAuMjwvdGV4dD4KPHRleHQgeD0nMTY2LjU1JyB5PScyNDAuNDgnIHRleHQtYW5jaG9yPSdtaWRkbGUnIHN0eWxlPSdmb250LXNpemU6IDEyLjAwcHg7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nMTYuNjdweCcgbGVuZ3RoQWRqdXN0PSdzcGFjaW5nQW5kR2x5cGhzJz4wLjQ8L3RleHQ+Cjx0ZXh0IHg9JzIyMi4yNScgeT0nMjQwLjQ4JyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBzdHlsZT0nZm9udC1zaXplOiAxMi4wMHB4OyBmb250LWZhbWlseTogIkFyaWFsIjsnIHRleHRMZW5ndGg9JzE2LjY3cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+MC42PC90ZXh0Pgo8dGV4dCB4PScyNzcuOTYnIHk9JzI0MC40OCcgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPScxNi42N3B4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjAuODwvdGV4dD4KPGxpbmUgeDE9JzU5LjA0JyB5MT0nMjA4LjgwJyB4Mj0nNTkuMDQnIHkyPSc2NC44MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+CjxsaW5lIHgxPSc1OS4wNCcgeTE9JzIwOC44MCcgeDI9JzUxLjg0JyB5Mj0nMjA4LjgwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPGxpbmUgeDE9JzU5LjA0JyB5MT0nMTcyLjgwJyB4Mj0nNTEuODQnIHkyPScxNzIuODAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7JyAvPgo8bGluZSB4MT0nNTkuMDQnIHkxPScxMzYuODAnIHgyPSc1MS44NCcgeTI9JzEzNi44MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+CjxsaW5lIHgxPSc1OS4wNCcgeTE9JzEwMC44MCcgeDI9JzUxLjg0JyB5Mj0nMTAwLjgwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPGxpbmUgeDE9JzU5LjA0JyB5MT0nNjQuODAnIHgyPSc1MS44NCcgeTI9JzY0LjgwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPHRleHQgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNDEuNzYsMjA4LjgwKSByb3RhdGUoLTkwKScgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSc2LjY3cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+MDwvdGV4dD4KPHRleHQgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNDEuNzYsMTcyLjgwKSByb3RhdGUoLTkwKScgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSc2LjY3cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+MjwvdGV4dD4KPHRleHQgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNDEuNzYsMTM2LjgwKSByb3RhdGUoLTkwKScgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSc2LjY3cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+NDwvdGV4dD4KPHRleHQgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNDEuNzYsMTAwLjgwKSByb3RhdGUoLTkwKScgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSc2LjY3cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+NjwvdGV4dD4KPHRleHQgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNDEuNzYsNjQuODApIHJvdGF0ZSgtOTApJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBzdHlsZT0nZm9udC1zaXplOiAxMi4wMHB4OyBmb250LWZhbWlseTogIkFyaWFsIjsnIHRleHRMZW5ndGg9JzYuNjdweCcgbGVuZ3RoQWRqdXN0PSdzcGFjaW5nQW5kR2x5cGhzJz44PC90ZXh0Pgo8L2c+CjxkZWZzPgogIDxjbGlwUGF0aCBpZD0nY3BOVGt1TURSOE16STVMamMyZkRVNUxqQTBmREl4TkM0MU5nPT0nPgogICAgPHJlY3QgeD0nNTkuMDQnIHk9JzU5LjA0JyB3aWR0aD0nMjcwLjcyJyBoZWlnaHQ9JzE1NS41MicgLz4KICA8L2NsaXBQYXRoPgo8L2RlZnM+CjxnIGNsaXAtcGF0aD0ndXJsKCNjcE5Ua3VNRFI4TXpJNUxqYzJmRFU1TGpBMGZESXhOQzQxTmc9PSknPgo8cmVjdCB4PSc2OS4wNycgeT0nMTU0LjgwJyB3aWR0aD0nMTMuOTMnIGhlaWdodD0nNTQuMDAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7IGZpbGw6ICNBREQ4RTY7JyAvPgo8cmVjdCB4PSc4Mi45OScgeT0nMTkwLjgwJyB3aWR0aD0nMTMuOTMnIGhlaWdodD0nMTguMDAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7IGZpbGw6ICNBREQ4RTY7JyAvPgo8cmVjdCB4PSc5Ni45MicgeT0nMTcyLjgwJyB3aWR0aD0nMTMuOTMnIGhlaWdodD0nMzYuMDAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7IGZpbGw6ICNBREQ4RTY7JyAvPgo8cmVjdCB4PScxMTAuODQnIHk9JzEzNi44MCcgd2lkdGg9JzEzLjkzJyBoZWlnaHQ9JzcyLjAwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OyBmaWxsOiAjQUREOEU2OycgLz4KPHJlY3QgeD0nMTI0Ljc3JyB5PScxOTAuODAnIHdpZHRoPScxMy45MycgaGVpZ2h0PScxOC4wMCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsgZmlsbDogI0FERDhFNjsnIC8+CjxyZWN0IHg9JzEzOC43MCcgeT0nMjA4LjgwJyB3aWR0aD0nMTMuOTMnIGhlaWdodD0nMC4wMCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsgZmlsbDogI0FERDhFNjsnIC8+CjxyZWN0IHg9JzE1Mi42MicgeT0nMTkwLjgwJyB3aWR0aD0nMTMuOTMnIGhlaWdodD0nMTguMDAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7IGZpbGw6ICNBREQ4RTY7JyAvPgo8cmVjdCB4PScxNjYuNTUnIHk9JzExOC44MCcgd2lkdGg9JzEzLjkzJyBoZWlnaHQ9JzkwLjAwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OyBmaWxsOiAjQUREOEU2OycgLz4KPHJlY3QgeD0nMTgwLjQ3JyB5PScxNzIuODAnIHdpZHRoPScxMy45MycgaGVpZ2h0PSczNi4wMCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsgZmlsbDogI0FERDhFNjsnIC8+CjxyZWN0IHg9JzE5NC40MCcgeT0nMTcyLjgwJyB3aWR0aD0nMTMuOTMnIGhlaWdodD0nMzYuMDAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7IGZpbGw6ICNBREQ4RTY7JyAvPgo8cmVjdCB4PScyMDguMzMnIHk9JzY0LjgwJyB3aWR0aD0nMTMuOTMnIGhlaWdodD0nMTQ0LjAwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OyBmaWxsOiAjQUREOEU2OycgLz4KPHJlY3QgeD0nMjIyLjI1JyB5PScyMDguODAnIHdpZHRoPScxMy45MycgaGVpZ2h0PScwLjAwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OyBmaWxsOiAjQUREOEU2OycgLz4KPHJlY3QgeD0nMjM2LjE4JyB5PSc4Mi44MCcgd2lkdGg9JzEzLjkzJyBoZWlnaHQ9JzEyNi4wMCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsgZmlsbDogI0FERDhFNjsnIC8+CjxyZWN0IHg9JzI1MC4xMCcgeT0nNjQuODAnIHdpZHRoPScxMy45MycgaGVpZ2h0PScxNDQuMDAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7IGZpbGw6ICNBREQ4RTY7JyAvPgo8cmVjdCB4PScyNjQuMDMnIHk9JzEzNi44MCcgd2lkdGg9JzEzLjkzJyBoZWlnaHQ9JzcyLjAwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OyBmaWxsOiAjQUREOEU2OycgLz4KPHJlY3QgeD0nMjc3Ljk2JyB5PScxNTQuODAnIHdpZHRoPScxMy45MycgaGVpZ2h0PSc1NC4wMCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsgZmlsbDogI0FERDhFNjsnIC8+CjxyZWN0IHg9JzI5MS44OCcgeT0nMTU0LjgwJyB3aWR0aD0nMTMuOTMnIGhlaWdodD0nNTQuMDAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7IGZpbGw6ICNBREQ4RTY7JyAvPgo8cmVjdCB4PSczMDUuODEnIHk9JzE5MC44MCcgd2lkdGg9JzEzLjkzJyBoZWlnaHQ9JzE4LjAwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OyBmaWxsOiAjQUREOEU2OycgLz4KPGxpbmUgeDE9JzE5NC40MCcgeTE9JzIxNC41NicgeDI9JzE5NC40MCcgeTI9JzU5LjA0JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICNGRjAwMDA7IHN0cm9rZS1kYXNoYXJyYXk6IDguMDAsOC4wMDsnIC8+CjxsaW5lIHgxPScyNTAuMTAnIHkxPScyMTQuNTYnIHgyPScyNTAuMTAnIHkyPSc1OS4wNCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjMDAwMEZGOyBzdHJva2UtZGFzaGFycmF5OiA4LjAwLDguMDA7JyAvPgo8bGluZSB4MT0nMzA1LjgxJyB5MT0nMjE0LjU2JyB4Mj0nMzA1LjgxJyB5Mj0nNTkuMDQnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzAwRkYwMDsgc3Ryb2tlLWRhc2hhcnJheTogOC4wMCw4LjAwOycgLz4KPHJlY3QgeD0nMjAyLjQ3JyB5PSc1OS4wNCcgd2lkdGg9JzEyNy4yOScgaGVpZ2h0PSc1Ny42MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsgZmlsbDogI0ZGRkZGRjsnIC8+CjxsaW5lIHgxPScyMTMuMjcnIHkxPSc3My40NCcgeDI9JzIzNC44NycgeTI9JzczLjQ0JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICNGRjAwMDA7IHN0cm9rZS1kYXNoYXJyYXk6IDguMDAsOC4wMDsnIC8+CjxsaW5lIHgxPScyMTMuMjcnIHkxPSc4Ny44NCcgeDI9JzIzNC44NycgeTI9Jzg3Ljg0JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7IHN0cm9rZS1kYXNoYXJyYXk6IDguMDAsOC4wMDsnIC8+CjxsaW5lIHgxPScyMTMuMjcnIHkxPScxMDIuMjQnIHgyPScyMzQuODcnIHkyPScxMDIuMjQnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzAwRkYwMDsgc3Ryb2tlLWRhc2hhcnJheTogOC4wMCw4LjAwOycgLz4KPHRleHQgeD0nMjQ1LjY3JyB5PSc3Ny43NCcgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSc1My4zM3B4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjAuNSAoc3RyaWN0KTwvdGV4dD4KPHRleHQgeD0nMjQ1LjY3JyB5PSc5Mi4xNCcgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSc3OC42OXB4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjAuNyAobW9kZXJhdGUpPC90ZXh0Pgo8dGV4dCB4PScyNDUuNjcnIHk9JzEwNi41NCcgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSc2My4zNnB4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjAuOSAobGVuaWVudCk8L3RleHQ+CjwvZz4KPGRlZnM+CiAgPGNsaXBQYXRoIGlkPSdjcE5ERTVMakEwZkRZNE9TNDNObncxT1M0d05Id3lNVFF1TlRZPSc+CiAgICA8cmVjdCB4PSc0MTkuMDQnIHk9JzU5LjA0JyB3aWR0aD0nMjcwLjcyJyBoZWlnaHQ9JzE1NS41MicgLz4KICA8L2NsaXBQYXRoPgo8L2RlZnM+CjxnIGNsaXAtcGF0aD0ndXJsKCNjcE5ERTVMakEwZkRZNE9TNDNObncxT1M0d05Id3lNVFF1TlRZPSknPgo8bGluZSB4MT0nNDM2LjI3JyB5MT0nMjA4LjgwJyB4Mj0nNDQxLjE1JyB5Mj0nMjA4LjgwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8bGluZSB4MT0nNDU1LjU1JyB5MT0nMjA4LjgwJyB4Mj0nNDYwLjQzJyB5Mj0nMjA4LjgwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8bGluZSB4MT0nNDc0LjgzJyB5MT0nMjA4LjgwJyB4Mj0nNDc5LjcxJyB5Mj0nMjA4LjgwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8bGluZSB4MT0nNDkyLjQ1JyB5MT0nMjA0LjIwJyB4Mj0nNTAwLjY1JyB5Mj0nMTk3LjQwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8bGluZSB4MT0nNTEzLjM5JyB5MT0nMTkyLjgwJyB4Mj0nNTE4LjI4JyB5Mj0nMTkyLjgwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8bGluZSB4MT0nNTMxLjAyJyB5MT0nMTg4LjIwJyB4Mj0nNTM5LjIyJyB5Mj0nMTgxLjQwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8bGluZSB4MT0nNTUxLjk2JyB5MT0nMTc2LjgwJyB4Mj0nNTU2Ljg0JyB5Mj0nMTc2LjgwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8bGluZSB4MT0nNTY5LjU4JyB5MT0nMTcyLjIwJyB4Mj0nNTc3Ljc4JyB5Mj0nMTY1LjQwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8bGluZSB4MT0nNTg3LjA0JyB5MT0nMTU0LjYzJyB4Mj0nNTk4Ljg5JyB5Mj0nMTM0Ljk3JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8bGluZSB4MT0nNjA4LjE1JyB5MT0nMTI0LjIwJyB4Mj0nNjE2LjM1JyB5Mj0nMTE3LjQwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8bGluZSB4MT0nNjI3LjQzJyB5MT0nMTA4LjIwJyB4Mj0nNjM1LjYzJyB5Mj0nMTAxLjQwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8bGluZSB4MT0nNjQ2LjcxJyB5MT0nOTIuMjAnIHgyPSc2NTQuOTEnIHkyPSc4NS40MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjMDAwMEZGOycgLz4KPGxpbmUgeDE9JzY2NS45OScgeTE9Jzc2LjIwJyB4Mj0nNjc0LjE5JyB5Mj0nNjkuNDAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzAwMDBGRjsnIC8+CjxjaXJjbGUgY3g9JzQyOS4wNycgY3k9JzIwOC44MCcgcj0nMi43MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjMDAwMEZGOycgLz4KPGNpcmNsZSBjeD0nNDQ4LjM1JyBjeT0nMjA4LjgwJyByPScyLjcwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8Y2lyY2xlIGN4PSc0NjcuNjMnIGN5PScyMDguODAnIHI9JzIuNzAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzAwMDBGRjsnIC8+CjxjaXJjbGUgY3g9JzQ4Ni45MScgY3k9JzIwOC44MCcgcj0nMi43MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjMDAwMEZGOycgLz4KPGNpcmNsZSBjeD0nNTA2LjE5JyBjeT0nMTkyLjgwJyByPScyLjcwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8Y2lyY2xlIGN4PSc1MjUuNDgnIGN5PScxOTIuODAnIHI9JzIuNzAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzAwMDBGRjsnIC8+CjxjaXJjbGUgY3g9JzU0NC43NicgY3k9JzE3Ni44MCcgcj0nMi43MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjMDAwMEZGOycgLz4KPGNpcmNsZSBjeD0nNTY0LjA0JyBjeT0nMTc2LjgwJyByPScyLjcwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8Y2lyY2xlIGN4PSc1ODMuMzInIGN5PScxNjAuODAnIHI9JzIuNzAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzAwMDBGRjsnIC8+CjxjaXJjbGUgY3g9JzYwMi42MScgY3k9JzEyOC44MCcgcj0nMi43MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjMDAwMEZGOycgLz4KPGNpcmNsZSBjeD0nNjIxLjg5JyBjeT0nMTEyLjgwJyByPScyLjcwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8Y2lyY2xlIGN4PSc2NDEuMTcnIGN5PSc5Ni44MCcgcj0nMi43MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMS41MDsgc3Ryb2tlOiAjMDAwMEZGOycgLz4KPGNpcmNsZSBjeD0nNjYwLjQ1JyBjeT0nODAuODAnIHI9JzIuNzAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDEuNTA7IHN0cm9rZTogIzAwMDBGRjsnIC8+CjxjaXJjbGUgY3g9JzY3OS43MycgY3k9JzY0LjgwJyByPScyLjcwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAxLjUwOyBzdHJva2U6ICMwMDAwRkY7JyAvPgo8L2c+CjxnIGNsaXAtcGF0aD0ndXJsKCNjcE1DNHdNSHczTWpBdU1EQjhNQzR3TUh3eU9EZ3VNREE9KSc+CjxsaW5lIHgxPSc0MjkuMDcnIHkxPScyMTQuNTYnIHgyPSc2NjAuNDUnIHkyPScyMTQuNTYnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7JyAvPgo8bGluZSB4MT0nNDI5LjA3JyB5MT0nMjE0LjU2JyB4Mj0nNDI5LjA3JyB5Mj0nMjIxLjc2JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPGxpbmUgeDE9JzQ2Ny42MycgeTE9JzIxNC41NicgeDI9JzQ2Ny42MycgeTI9JzIyMS43Nicgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+CjxsaW5lIHgxPSc1MDYuMTknIHkxPScyMTQuNTYnIHgyPSc1MDYuMTknIHkyPScyMjEuNzYnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7JyAvPgo8bGluZSB4MT0nNTQ0Ljc2JyB5MT0nMjE0LjU2JyB4Mj0nNTQ0Ljc2JyB5Mj0nMjIxLjc2JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPGxpbmUgeDE9JzU4My4zMicgeTE9JzIxNC41NicgeDI9JzU4My4zMicgeTI9JzIyMS43Nicgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+CjxsaW5lIHgxPSc2MjEuODknIHkxPScyMTQuNTYnIHgyPSc2MjEuODknIHkyPScyMjEuNzYnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7JyAvPgo8bGluZSB4MT0nNjYwLjQ1JyB5MT0nMjE0LjU2JyB4Mj0nNjYwLjQ1JyB5Mj0nMjIxLjc2JyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPHRleHQgeD0nNDI5LjA3JyB5PScyNDAuNDgnIHRleHQtYW5jaG9yPSdtaWRkbGUnIHN0eWxlPSdmb250LXNpemU6IDEyLjAwcHg7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nMTYuNjdweCcgbGVuZ3RoQWRqdXN0PSdzcGFjaW5nQW5kR2x5cGhzJz4wLjM8L3RleHQ+Cjx0ZXh0IHg9JzQ2Ny42MycgeT0nMjQwLjQ4JyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBzdHlsZT0nZm9udC1zaXplOiAxMi4wMHB4OyBmb250LWZhbWlseTogIkFyaWFsIjsnIHRleHRMZW5ndGg9JzE2LjY3cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+MC40PC90ZXh0Pgo8dGV4dCB4PSc1MDYuMTknIHk9JzI0MC40OCcgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPScxNi42N3B4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjAuNTwvdGV4dD4KPHRleHQgeD0nNTQ0Ljc2JyB5PScyNDAuNDgnIHRleHQtYW5jaG9yPSdtaWRkbGUnIHN0eWxlPSdmb250LXNpemU6IDEyLjAwcHg7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nMTYuNjdweCcgbGVuZ3RoQWRqdXN0PSdzcGFjaW5nQW5kR2x5cGhzJz4wLjY8L3RleHQ+Cjx0ZXh0IHg9JzU4My4zMicgeT0nMjQwLjQ4JyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBzdHlsZT0nZm9udC1zaXplOiAxMi4wMHB4OyBmb250LWZhbWlseTogIkFyaWFsIjsnIHRleHRMZW5ndGg9JzE2LjY3cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+MC43PC90ZXh0Pgo8dGV4dCB4PSc2MjEuODknIHk9JzI0MC40OCcgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPScxNi42N3B4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjAuODwvdGV4dD4KPHRleHQgeD0nNjYwLjQ1JyB5PScyNDAuNDgnIHRleHQtYW5jaG9yPSdtaWRkbGUnIHN0eWxlPSdmb250LXNpemU6IDEyLjAwcHg7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nMTYuNjdweCcgbGVuZ3RoQWRqdXN0PSdzcGFjaW5nQW5kR2x5cGhzJz4wLjk8L3RleHQ+CjxsaW5lIHgxPSc0MTkuMDQnIHkxPScyMDguODAnIHgyPSc0MTkuMDQnIHkyPSc4MC44MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+CjxsaW5lIHgxPSc0MTkuMDQnIHkxPScyMDguODAnIHgyPSc0MTEuODQnIHkyPScyMDguODAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7JyAvPgo8bGluZSB4MT0nNDE5LjA0JyB5MT0nMTc2LjgwJyB4Mj0nNDExLjg0JyB5Mj0nMTc2LjgwJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPGxpbmUgeDE9JzQxOS4wNCcgeTE9JzE0NC44MCcgeDI9JzQxMS44NCcgeTI9JzE0NC44MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+CjxsaW5lIHgxPSc0MTkuMDQnIHkxPScxMTIuODAnIHgyPSc0MTEuODQnIHkyPScxMTIuODAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7JyAvPgo8bGluZSB4MT0nNDE5LjA0JyB5MT0nODAuODAnIHgyPSc0MTEuODQnIHkyPSc4MC44MCcgc3R5bGU9J3N0cm9rZS13aWR0aDogMC43NTsnIC8+Cjx0ZXh0IHRyYW5zZm9ybT0ndHJhbnNsYXRlKDQwMS43NiwyMDguODApIHJvdGF0ZSgtOTApJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBzdHlsZT0nZm9udC1zaXplOiAxMi4wMHB4OyBmb250LWZhbWlseTogIkFyaWFsIjsnIHRleHRMZW5ndGg9JzYuNjdweCcgbGVuZ3RoQWRqdXN0PSdzcGFjaW5nQW5kR2x5cGhzJz4yPC90ZXh0Pgo8dGV4dCB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg0MDEuNzYsMTc2LjgwKSByb3RhdGUoLTkwKScgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSc2LjY3cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+NDwvdGV4dD4KPHRleHQgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNDAxLjc2LDE0NC44MCkgcm90YXRlKC05MCknIHRleHQtYW5jaG9yPSdtaWRkbGUnIHN0eWxlPSdmb250LXNpemU6IDEyLjAwcHg7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nNi42N3B4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPjY8L3RleHQ+Cjx0ZXh0IHRyYW5zZm9ybT0ndHJhbnNsYXRlKDQwMS43NiwxMTIuODApIHJvdGF0ZSgtOTApJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBzdHlsZT0nZm9udC1zaXplOiAxMi4wMHB4OyBmb250LWZhbWlseTogIkFyaWFsIjsnIHRleHRMZW5ndGg9JzYuNjdweCcgbGVuZ3RoQWRqdXN0PSdzcGFjaW5nQW5kR2x5cGhzJz44PC90ZXh0Pgo8dGV4dCB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg0MDEuNzYsODAuODApIHJvdGF0ZSgtOTApJyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBzdHlsZT0nZm9udC1zaXplOiAxMi4wMHB4OyBmb250LWZhbWlseTogIkFyaWFsIjsnIHRleHRMZW5ndGg9JzEzLjM0cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+MTA8L3RleHQ+Cjxwb2x5Z29uIHBvaW50cz0nNDE5LjA0LDIxNC41NiA2ODkuNzYsMjE0LjU2IDY4OS43Niw1OS4wNCA0MTkuMDQsNTkuMDQgJyBzdHlsZT0nc3Ryb2tlLXdpZHRoOiAwLjc1OycgLz4KPC9nPgo8ZGVmcz4KICA8Y2xpcFBhdGggaWQ9J2NwTXpZd0xqQXdmRGN5TUM0d01Id3dMakF3ZkRJNE9DNHdNQT09Jz4KICAgIDxyZWN0IHg9JzM2MC4wMCcgeT0nMC4wMCcgd2lkdGg9JzM2MC4wMCcgaGVpZ2h0PScyODguMDAnIC8+CiAgPC9jbGlwUGF0aD4KPC9kZWZzPgo8ZyBjbGlwLXBhdGg9J3VybCgjY3BNell3TGpBd2ZEY3lNQzR3TUh3d0xqQXdmREk0T0M0d01BPT0pJz4KPHRleHQgeD0nNTU0LjQwJyB5PSczNC42NycgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTQuNDBweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nMTQ1LjU2cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+VGhyZXNob2xkIFNlbnNpdGl2aXR5PC90ZXh0Pgo8dGV4dCB4PSc1NTQuNDAnIHk9JzI2OS4yOCcgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSc1My4zNnB4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPlRocmVzaG9sZDwvdGV4dD4KPHRleHQgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMzcyLjk2LDEzNi44MCkgcm90YXRlKC05MCknIHRleHQtYW5jaG9yPSdtaWRkbGUnIHN0eWxlPSdmb250LXNpemU6IDEyLjAwcHg7IGZvbnQtZmFtaWx5OiAiQXJpYWwiOycgdGV4dExlbmd0aD0nMTU5Ljg0cHgnIGxlbmd0aEFkanVzdD0nc3BhY2luZ0FuZEdseXBocyc+TnVtYmVyIG9mIFZhcmlhYmxlcyBSZXRhaW5lZDwvdGV4dD4KPC9nPgo8ZyBjbGlwLXBhdGg9J3VybCgjY3BOREU1TGpBMGZEWTRPUzQzTm53MU9TNHdOSHd5TVRRdU5UWT0pJz4KPGxpbmUgeDE9JzQxOS4wNCcgeTE9JzY0LjgwJyB4Mj0nNjg5Ljc2JyB5Mj0nNjQuODAnIHN0eWxlPSdzdHJva2Utd2lkdGg6IDAuNzU7IHN0cm9rZTogI0JFQkVCRTsgc3Ryb2tlLWRhc2hhcnJheTogNC4wMCw0LjAwOycgLz4KPHRleHQgeD0nNDI5LjA3JyB5PSc1Ny42MCcgdGV4dC1hbmNob3I9J21pZGRsZScgc3R5bGU9J2ZvbnQtc2l6ZTogMTIuMDBweDsgZm9udC1mYW1pbHk6ICJBcmlhbCI7JyB0ZXh0TGVuZ3RoPSc0MS4zNnB4JyBsZW5ndGhBZGp1c3Q9J3NwYWNpbmdBbmRHbHlwaHMnPk9yaWdpbmFsPC90ZXh0Pgo8L2c+CjwvZz4KPC9zdmc+Cg==" alt="Two side-by-side plots for threshold selection guidance. Left panel: histogram of absolute correlations in mtcars showing distribution with vertical lines marking strict (0.5, red), moderate (0.7, blue), and lenient (0.9, green) thresholds. Right panel: line plot showing number of variables retained versus threshold, demonstrating sensitivity analysis with plateau beginning around 0.7, helping identify optimal threshold for balancing redundancy reduction and information retention." /></p>
<p><strong>Strategy</strong>: Choose threshold where curve begins to
plateau.</p>
</div>
</div>
<div id="handling-edge-cases" class="section level2">
<h2>5.3 Handling Edge Cases</h2>
<div id="single-predictor-after-pruning" class="section level3">
<h3>Single Predictor After Pruning</h3>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="co"># Very strict threshold may leave only 1 variable</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>strict_result <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(mtcars, <span class="at">threshold =</span> <span class="fl">0.3</span>)</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Variables remaining:&quot;</span>, <span class="fu">ncol</span>(strict_result), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="co">#&gt; Variables remaining: 2</span></span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a><span class="co"># Check if result is usable</span></span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">ncol</span>(strict_result) <span class="sc">&lt;</span> <span class="dv">2</span>) {</span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Warning: Only 1 variable remaining. Consider:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb30-9"><a href="#cb30-9" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;  1. Increasing threshold</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb30-10"><a href="#cb30-10" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;  2. Using force_in to keep important variables</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb30-11"><a href="#cb30-11" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="all-variables-removed" class="section level3">
<h3>All Variables Removed</h3>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># Impossible threshold</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="fu">tryCatch</span>({</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a>  <span class="fu">corrPrune</span>(mtcars, <span class="at">threshold =</span> <span class="fl">0.0</span>)</span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>}, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Error:&quot;</span>, e<span class="sc">$</span>message, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a>})</span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a><span class="co">#&gt; Error: `threshold` must be in the range (0, 1].</span></span></code></pre></div>
</div>
<div id="mixed-type-data" class="section level3">
<h3>Mixed-Type Data</h3>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="co"># Create mixed data</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>mixed_data <span class="ot">&lt;-</span> mtcars</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a>mixed_data<span class="sc">$</span>cyl <span class="ot">&lt;-</span> <span class="fu">factor</span>(mixed_data<span class="sc">$</span>cyl)</span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a>mixed_data<span class="sc">$</span>am <span class="ot">&lt;-</span> <span class="fu">factor</span>(mixed_data<span class="sc">$</span>am)</span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a><span class="co"># Use assocSelect for mixed types</span></span>
<span id="cb32-7"><a href="#cb32-7" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">assocSelect</span>(mixed_data, <span class="at">threshold =</span> <span class="fl">0.6</span>)</span>
<span id="cb32-8"><a href="#cb32-8" tabindex="-1"></a><span class="fu">show</span>(result)</span>
<span id="cb32-9"><a href="#cb32-9" tabindex="-1"></a><span class="co">#&gt; CorrCombo object</span></span>
<span id="cb32-10"><a href="#cb32-10" tabindex="-1"></a><span class="co">#&gt; -----------------</span></span>
<span id="cb32-11"><a href="#cb32-11" tabindex="-1"></a><span class="co">#&gt;   Method:      bron-kerbosch</span></span>
<span id="cb32-12"><a href="#cb32-12" tabindex="-1"></a><span class="co">#&gt;   Correlation: mixed</span></span>
<span id="cb32-13"><a href="#cb32-13" tabindex="-1"></a><span class="co">#&gt;   AssocMethod: numeric_factor = eta, numeric_numeric = pearson, factor_numeric</span></span>
<span id="cb32-14"><a href="#cb32-14" tabindex="-1"></a><span class="co">#&gt;                = eta, factor_factor = cramersv</span></span>
<span id="cb32-15"><a href="#cb32-15" tabindex="-1"></a><span class="co">#&gt;   Threshold:   0.600</span></span>
<span id="cb32-16"><a href="#cb32-16" tabindex="-1"></a><span class="co">#&gt;   Subsets:     20 maximal subsets</span></span>
<span id="cb32-17"><a href="#cb32-17" tabindex="-1"></a><span class="co">#&gt;   Data Rows:   32 used in correlation</span></span>
<span id="cb32-18"><a href="#cb32-18" tabindex="-1"></a><span class="co">#&gt;   Pivot:       TRUE</span></span>
<span id="cb32-19"><a href="#cb32-19" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb32-20"><a href="#cb32-20" tabindex="-1"></a><span class="co">#&gt; Top combinations:</span></span>
<span id="cb32-21"><a href="#cb32-21" tabindex="-1"></a><span class="co">#&gt;   No.  Variables                          Avg    Max    Size</span></span>
<span id="cb32-22"><a href="#cb32-22" tabindex="-1"></a><span class="co">#&gt;   ------------------------------------------------------------</span></span>
<span id="cb32-23"><a href="#cb32-23" tabindex="-1"></a><span class="co">#&gt;   [ 1] wt, vs, gear, carb                0.436  0.583     4</span></span>
<span id="cb32-24"><a href="#cb32-24" tabindex="-1"></a><span class="co">#&gt;   [ 2] vs, am, carb                      0.265  0.570     3</span></span>
<span id="cb32-25"><a href="#cb32-25" tabindex="-1"></a><span class="co">#&gt;   [ 3] wt, qsec, gear                    0.324  0.583     3</span></span>
<span id="cb32-26"><a href="#cb32-26" tabindex="-1"></a><span class="co">#&gt;   [ 4] disp, carb, am                    0.348  0.591     3</span></span>
<span id="cb32-27"><a href="#cb32-27" tabindex="-1"></a><span class="co">#&gt;   [ 5] drat, vs, carb                    0.367  0.570     3</span></span>
<span id="cb32-28"><a href="#cb32-28" tabindex="-1"></a><span class="co">#&gt;   ... (15 more combinations)</span></span></code></pre></div>
<hr />
</div>
</div>
</div>
<div id="best-practices" class="section level1">
<h1>6. Best Practices</h1>
<div id="workflow-recommendations" class="section level2">
<h2>6.1 Workflow Recommendations</h2>
<div id="for-exploratory-analysis" class="section level3">
<h3>For Exploratory Analysis</h3>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="co"># 1. Visualize correlations</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>corrplot<span class="sc">::</span><span class="fu">corrplot</span>(<span class="fu">cor</span>(data), <span class="at">method =</span> <span class="st">&quot;circle&quot;</span>)</span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="co"># 2. Try multiple thresholds</span></span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">c</span>(<span class="fl">0.5</span>, <span class="fl">0.7</span>, <span class="fl">0.9</span>), <span class="cf">function</span>(t) {</span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a>  <span class="fu">corrPrune</span>(data, <span class="at">threshold =</span> t)</span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a>})</span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a></span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a><span class="co"># 3. Compare subset sizes</span></span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a><span class="fu">sapply</span>(results, ncol)</span>
<span id="cb33-11"><a href="#cb33-11" tabindex="-1"></a></span>
<span id="cb33-12"><a href="#cb33-12" tabindex="-1"></a><span class="co"># 4. Choose based on your needs</span></span>
<span id="cb33-13"><a href="#cb33-13" tabindex="-1"></a>final_data <span class="ot">&lt;-</span> results[[<span class="dv">2</span>]]  <span class="co"># threshold = 0.7</span></span></code></pre></div>
</div>
<div id="for-publication-quality-analysis" class="section level3">
<h3>For Publication-Quality Analysis</h3>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="co"># 1. Use exact mode for reproducibility and optimality</span></span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>data_pruned <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(data, <span class="at">threshold =</span> <span class="fl">0.7</span>, <span class="at">mode =</span> <span class="st">&quot;exact&quot;</span>)</span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a><span class="co"># 2. Document in methods section</span></span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(</span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a>  <span class="st">&quot;Variables were pruned using corrselect::corrPrune() with threshold = 0.7, &quot;</span>,</span>
<span id="cb34-7"><a href="#cb34-7" tabindex="-1"></a>  <span class="st">&quot;exact mode, retaining %d of %d original predictors.&quot;</span>,</span>
<span id="cb34-8"><a href="#cb34-8" tabindex="-1"></a>  <span class="fu">ncol</span>(data_pruned), <span class="fu">ncol</span>(data)</span>
<span id="cb34-9"><a href="#cb34-9" tabindex="-1"></a>))</span>
<span id="cb34-10"><a href="#cb34-10" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" tabindex="-1"></a><span class="co"># 3. Report which variables were removed</span></span>
<span id="cb34-12"><a href="#cb34-12" tabindex="-1"></a>removed <span class="ot">&lt;-</span> <span class="fu">attr</span>(data_pruned, <span class="st">&quot;removed_vars&quot;</span>)</span>
<span id="cb34-13"><a href="#cb34-13" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Removed variables:&quot;</span>, <span class="fu">paste</span>(removed, <span class="at">collapse =</span> <span class="st">&quot;, &quot;</span>))</span></code></pre></div>
</div>
</div>
<div id="combining-with-other-methods" class="section level2">
<h2>6.2 Combining with Other Methods</h2>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="co"># Comprehensive variable selection pipeline</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>pipeline <span class="ot">&lt;-</span> <span class="cf">function</span>(data, response) {</span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a>  <span class="co"># Step 1: Remove correlations</span></span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a>  step1 <span class="ot">&lt;-</span> <span class="fu">corrPrune</span>(data, <span class="at">threshold =</span> <span class="fl">0.7</span>, <span class="at">mode =</span> <span class="st">&quot;auto&quot;</span>)</span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" tabindex="-1"></a>  <span class="co"># Step 2: VIF cleanup</span></span>
<span id="cb35-7"><a href="#cb35-7" tabindex="-1"></a>  step2_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">response =</span> response, step1)</span>
<span id="cb35-8"><a href="#cb35-8" tabindex="-1"></a>  step2 <span class="ot">&lt;-</span> <span class="fu">modelPrune</span>(response <span class="sc">~</span> ., <span class="at">data =</span> step2_data, <span class="at">limit =</span> <span class="dv">5</span>)</span>
<span id="cb35-9"><a href="#cb35-9" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" tabindex="-1"></a>  <span class="co"># Step 3: Feature importance (optional)</span></span>
<span id="cb35-11"><a href="#cb35-11" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">requireNamespace</span>(<span class="st">&quot;Boruta&quot;</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb35-12"><a href="#cb35-12" tabindex="-1"></a>    boruta_result <span class="ot">&lt;-</span> Boruta<span class="sc">::</span><span class="fu">Boruta</span>(response <span class="sc">~</span> ., <span class="at">data =</span> step2)</span>
<span id="cb35-13"><a href="#cb35-13" tabindex="-1"></a>    important <span class="ot">&lt;-</span> Boruta<span class="sc">::</span><span class="fu">getSelectedAttributes</span>(boruta_result)</span>
<span id="cb35-14"><a href="#cb35-14" tabindex="-1"></a>    final_data <span class="ot">&lt;-</span> step2[, <span class="fu">c</span>(<span class="st">&quot;response&quot;</span>, important)]</span>
<span id="cb35-15"><a href="#cb35-15" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb35-16"><a href="#cb35-16" tabindex="-1"></a>    final_data <span class="ot">&lt;-</span> step2</span>
<span id="cb35-17"><a href="#cb35-17" tabindex="-1"></a>  }</span>
<span id="cb35-18"><a href="#cb35-18" tabindex="-1"></a></span>
<span id="cb35-19"><a href="#cb35-19" tabindex="-1"></a>  final_data</span>
<span id="cb35-20"><a href="#cb35-20" tabindex="-1"></a>}</span></code></pre></div>
<hr />
</div>
</div>
<div id="summary" class="section level1">
<h1>7. Summary</h1>
<div id="key-takeaways" class="section level2">
<h2>Key Takeaways</h2>
<div id="algorithms" class="section level3">
<h3>Algorithms</h3>
<ul>
<li>Use <strong>exact mode</strong> for p ≤ 20 (optimal,
reproducible)</li>
<li>Use <strong>greedy mode</strong> for p &gt; 20 (fast,
near-optimal)</li>
<li>Use <strong>auto mode</strong> to let corrselect decide</li>
</ul>
</div>
<div id="custom-engines" class="section level3">
<h3>Custom Engines</h3>
<ul>
<li>Integrate any modeling package (INLA, mgcv, brms)</li>
<li>Define custom pruning criteria (AIC, BIC, p-values)</li>
<li>Two required functions: <code>fit</code> and
<code>diagnostics</code></li>
</ul>
</div>
<div id="optimization" class="section level3">
<h3>Optimization</h3>
<ul>
<li>Precompute correlation matrices for multiple thresholds</li>
<li>Use greedy mode for large p</li>
<li>Parallelize across analyses, not within</li>
</ul>
</div>
<div id="troubleshooting-1" class="section level3">
<h3>Troubleshooting</h3>
<ul>
<li>Visualize correlation distribution before choosing threshold</li>
<li>Use <code>force_in</code> to protect important variables</li>
<li>Two-step pruning (corrPrune → modelPrune) for robustness</li>
</ul>
<hr />
</div>
</div>
</div>
<div id="references" class="section level1">
<h1>8. References</h1>
<p><strong>Algorithms</strong>:</p>
<ul>
<li>Eppstein, D., Löffler, M., &amp; Strash, D. (2010). Listing all
maximal cliques in sparse graphs in near-optimal time. <em>Symposium on
Algorithms and Computation</em>.</li>
<li>Bron, C., &amp; Kerbosch, J. (1973). Algorithm 457: Finding all
cliques of an undirected graph. <em>Communications of the ACM</em>,
16(9), 575-577.</li>
</ul>
<p><strong>Multicollinearity</strong>:</p>
<ul>
<li>O’Brien, R. M. (2007). A caution regarding rules of thumb for
variance inflation factors. <em>Quality &amp; Quantity</em>, 41(5),
673-690.</li>
<li>Belsley, D. A., Kuh, E., &amp; Welsch, R. E. (1980). <em>Regression
Diagnostics</em>. Wiley.</li>
</ul>
<p><strong>Software</strong>:</p>
<ul>
<li>INLA: Rue, H., Martino, S., &amp; Chopin, N. (2009). Approximate
Bayesian inference for latent Gaussian models. <em>Journal of the Royal
Statistical Society: Series B</em>, 71(2), 319-392.</li>
<li>mgcv: Wood, S. N. (2017). <em>Generalized Additive Models: An
Introduction with R</em> (2nd ed.). Chapman and Hall/CRC.</li>
</ul>
<hr />
<div id="see-also" class="section level2">
<h2>See Also</h2>
<ul>
<li><code>vignette(&quot;quickstart&quot;)</code> - 5-minute introduction</li>
<li><code>vignette(&quot;workflows&quot;)</code> - Real-world examples</li>
<li><code>vignette(&quot;comparison&quot;)</code> - vs caret, Boruta, glmnet</li>
<li><code>vignette(&quot;corrselect_vignette&quot;)</code> - Original exact
methods vignette</li>
<li><code>?corrPrune</code> - Association-based pruning</li>
<li><code>?modelPrune</code> - Model-based pruning</li>
<li><code>?corrSelect</code> - Exact subset enumeration</li>
</ul>
</div>
<div id="session-info" class="section level2">
<h2>Session Info</h2>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="co">#&gt; R version 4.5.2 (2025-10-31 ucrt)</span></span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a><span class="co">#&gt; Platform: x86_64-w64-mingw32/x64</span></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a><span class="co">#&gt; Running under: Windows 11 x64 (build 26200)</span></span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-6"><a href="#cb36-6" tabindex="-1"></a><span class="co">#&gt; Matrix products: default</span></span>
<span id="cb36-7"><a href="#cb36-7" tabindex="-1"></a><span class="co">#&gt;   LAPACK version 3.12.1</span></span>
<span id="cb36-8"><a href="#cb36-8" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-9"><a href="#cb36-9" tabindex="-1"></a><span class="co">#&gt; locale:</span></span>
<span id="cb36-10"><a href="#cb36-10" tabindex="-1"></a><span class="co">#&gt; [1] LC_COLLATE=C                          </span></span>
<span id="cb36-11"><a href="#cb36-11" tabindex="-1"></a><span class="co">#&gt; [2] LC_CTYPE=English_United States.utf8   </span></span>
<span id="cb36-12"><a href="#cb36-12" tabindex="-1"></a><span class="co">#&gt; [3] LC_MONETARY=English_United States.utf8</span></span>
<span id="cb36-13"><a href="#cb36-13" tabindex="-1"></a><span class="co">#&gt; [4] LC_NUMERIC=C                          </span></span>
<span id="cb36-14"><a href="#cb36-14" tabindex="-1"></a><span class="co">#&gt; [5] LC_TIME=English_United States.utf8    </span></span>
<span id="cb36-15"><a href="#cb36-15" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-16"><a href="#cb36-16" tabindex="-1"></a><span class="co">#&gt; time zone: Europe/Luxembourg</span></span>
<span id="cb36-17"><a href="#cb36-17" tabindex="-1"></a><span class="co">#&gt; tzcode source: internal</span></span>
<span id="cb36-18"><a href="#cb36-18" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-19"><a href="#cb36-19" tabindex="-1"></a><span class="co">#&gt; attached base packages:</span></span>
<span id="cb36-20"><a href="#cb36-20" tabindex="-1"></a><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span id="cb36-21"><a href="#cb36-21" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-22"><a href="#cb36-22" tabindex="-1"></a><span class="co">#&gt; other attached packages:</span></span>
<span id="cb36-23"><a href="#cb36-23" tabindex="-1"></a><span class="co">#&gt; [1] microbenchmark_1.5.0 corrselect_3.1.0    </span></span>
<span id="cb36-24"><a href="#cb36-24" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-25"><a href="#cb36-25" tabindex="-1"></a><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span id="cb36-26"><a href="#cb36-26" tabindex="-1"></a><span class="co">#&gt;  [1] digest_0.6.37     R6_2.6.1          fastmap_1.2.0     xfun_0.53        </span></span>
<span id="cb36-27"><a href="#cb36-27" tabindex="-1"></a><span class="co">#&gt;  [5] cachem_1.1.0      knitr_1.50        htmltools_0.5.8.1 rmarkdown_2.30   </span></span>
<span id="cb36-28"><a href="#cb36-28" tabindex="-1"></a><span class="co">#&gt;  [9] lifecycle_1.0.4   cli_3.6.5         svglite_2.2.2     sass_0.4.10      </span></span>
<span id="cb36-29"><a href="#cb36-29" tabindex="-1"></a><span class="co">#&gt; [13] textshaping_1.0.3 jquerylib_0.1.4   systemfonts_1.3.1 compiler_4.5.2   </span></span>
<span id="cb36-30"><a href="#cb36-30" tabindex="-1"></a><span class="co">#&gt; [17] tools_4.5.2       evaluate_1.0.5    bslib_0.9.0       Rcpp_1.1.0       </span></span>
<span id="cb36-31"><a href="#cb36-31" tabindex="-1"></a><span class="co">#&gt; [21] yaml_2.3.10       rlang_1.1.6       jsonlite_2.0.0    MASS_7.3-65</span></span></code></pre></div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
